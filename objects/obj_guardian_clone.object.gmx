<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_guardian_head</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>10</depth>
  <persistent>0</persistent>
  <parentName>obj_activate_parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Physics and Animation Variables
o = obj_game_logic
timer = 0
phase = 0
heart = 352                          //Enemy Health
heartmax = 352                       //Enemy Health
hp_mod = 0.26041667
hp_target = heart
heart_bar_target = ((heart/2)-(heartmax/4))+2
heart_bar_target_2 = heart/2
can_draw_healthbar = 0
can_die_upon_impact = 0

startup_alpha = 1
rising_phase = 1
back_alpha = 0
lens_flare_angle = 0
lens_flare_alpha = 0
rising_fog_color = make_colour_rgb(0,0,32)

start_x = x
start_y = y
head_frame = 0
head_timer = 0
head_float = 0
head_accel = 0
slam_count = 0
slam_timer = 0
slam_enable = 0
slam_override = 0
fire_timer = 0
fire_enable_timer = 0

death_timer = 0
pounce_timer = 0
pounce_direction = 1

max_rocks = 34
var count = 0;
while(count &lt;= max_rocks+4)
    {
        rock_angle[count] = 0
        rock_lerp[count] = random_range(0.015,0.10)
        rock_target[count] = random_range(4,6)
        count += 1
    }
//Manual Speeds
rock_lerp[16] = 0.065
rock_lerp[15] = 0.035
rock_lerp[0] = 0.050
rock_lerp[1] = 0.025
rock_target[16] = 12
tail_segment_2_lerp = 0
tail_segment_2_target = 16
//Startup
startup_timer = 0
startup_anchor_x = start_x+160
startup_anchor = y
startup_bounds_x_left = x-256
startup_bounds_x_right = x+256
//Movement States
move_state = 0
move_direction = 0
move_attack = 0
move_sound = 0
move_alpha = 1
move_timer = 0
disappear_timer = 0

roar_timer = 0
roar_alpha = 0
y = startup_anchor-200

claw_id_0 = instance_create(x,y,obj_guardian_clone_claws); //Left
claw_id_1 = instance_create(x,y,obj_guardian_clone_claws); //Right
claw_id_0.xdir = -1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(claw_id_0)
    instance_destroy(claw_id_0);
if instance_exists(claw_id_1)
    instance_destroy(claw_id_1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Logic and Animations

//Boss Logic
if o.pause = 0
    {
        var rock_count = 0;
        while(rock_count &lt;= max_rocks)
            {
                rock_angle[rock_count] = lerp(rock_angle[rock_count],rock_target[rock_count],rock_lerp[rock_count])
                if rock_angle[rock_count] &gt;= rock_target[rock_count]-0.90
                    rock_target[rock_count] = -abs(rock_target[rock_count]);
                if rock_angle[rock_count] &lt;= rock_target[rock_count]+0.90
                    rock_target[rock_count] = abs(rock_target[rock_count]);
                rock_count += 1
            }
        tail_segment_2_lerp = lerp(tail_segment_2_lerp,tail_segment_2_target,0.25)
        if tail_segment_2_lerp &gt;= tail_segment_2_target-0.90
            tail_segment_2_target = -abs(tail_segment_2_target);
        if tail_segment_2_lerp &lt;= tail_segment_2_target+0.90
            tail_segment_2_target = abs(tail_segment_2_lerp);

        //Movement
        if x &lt; startup_bounds_x_left
            move_direction += 0.1;
        if x &gt; startup_bounds_x_right
            move_direction -= 0.1;
        if move_direction &lt; -1
            move_direction = -1;
        if move_direction &gt; 1
            move_direction = 1;
        if y &gt; startup_anchor-64
            y = startup_anchor-64;

        //Disable movement while attacking
        if move_attack &gt; 0 and move_attack &lt; 6
            move_direction = 0;

        //Timers
        timer += 1
        head_timer += 1
        heart = heartmax

        head_frame = 1
        roar_timer += 1

        if roar_timer &lt; 120
            roar_alpha += 0.05;
        if (roar_alpha &gt; 1) roar_alpha = 1;
        if roar_timer &gt;= 120
            {
                roar_alpha -= 0.05
                if roar_alpha &lt;= 0
                    instance_destroy();
            }

    } //End of pause check
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>d3d_set_fog(true,c_blue,0,0);
draw_set_blend_mode(bm_add)
draw_set_alpha(roar_alpha)

//Tail Ring Segment Middle
var anchor_x = x+308+tail_segment_2_lerp;
var anchor_y = y+140;

var rock_x_1 = anchor_x+lengthdir_x(108,45+rock_angle[5]);
var rock_y_1 = anchor_y+lengthdir_y(108,45+rock_angle[5]);
draw_sprite(spr_guardian_tail,2,rock_x_1,rock_y_1)

var rock_x_2 = anchor_x+lengthdir_x(108,68+rock_angle[6]);
var rock_y_2 = anchor_y+lengthdir_y(108,68+rock_angle[6]);
draw_sprite(spr_guardian_tail,2,rock_x_2,rock_y_2)

var rock_x_2 = anchor_x+lengthdir_x(108,90+rock_angle[7]);
var rock_y_2 = anchor_y+lengthdir_y(108,90+rock_angle[7]);
draw_sprite(spr_guardian_tail,2,rock_x_2,rock_y_2)

var rock_x_3 = anchor_x+lengthdir_x(108,112+rock_angle[8]);
var rock_y_3 = anchor_y+lengthdir_y(108,112+rock_angle[8]);
draw_sprite(spr_guardian_tail,2,rock_x_3,rock_y_3)

var rock_x_4 = anchor_x+lengthdir_x(108,135+rock_angle[9]);
var rock_y_4 = anchor_y+lengthdir_y(108,135+rock_angle[9]);
draw_sprite(spr_guardian_tail,2,rock_x_4,rock_y_4)

var rock_x_5 = anchor_x+lengthdir_x(106,180+rock_angle[14]);
var rock_y_5 = anchor_y+lengthdir_y(106,180+rock_angle[14]);
draw_sprite(spr_guardian_tail,2,rock_x_5,rock_y_5)

var rock_x_6 = anchor_x+lengthdir_x(108,208+rock_angle[10]);
var rock_y_6 = anchor_y+lengthdir_y(108,208+rock_angle[10]);
draw_sprite(spr_guardian_tail,2,rock_x_6,rock_y_6)

var rock_x_7 = anchor_x+lengthdir_x(108,227+rock_angle[11]);
var rock_y_7 = anchor_y+lengthdir_y(108,227+rock_angle[11]);
draw_sprite(spr_guardian_tail,2,rock_x_7,rock_y_7)

var rock_x_8 = anchor_x+lengthdir_x(108,253+rock_angle[12]);
var rock_y_8 = anchor_y+lengthdir_y(108,253+rock_angle[12]);
draw_sprite(spr_guardian_tail,2,rock_x_8,rock_y_8)

//Body Anchor Point
var anchor_x = x+168+(lengthdir_x(70,270+rock_angle[15]));
var anchor_y = y+114+(lengthdir_y(70,270+rock_angle[15]));
draw_sprite(spr_guardian_body,0,anchor_x,anchor_y)

//Head
var anchor_x = x+160+(lengthdir_x(24,270+rock_angle[16]));
var anchor_y = y+80+(lengthdir_y(24,270+rock_angle[16]));
draw_sprite(spr_guardian_head,head_frame,anchor_x,anchor_y)

//Tail Ring Segment 
var anchor_x = x+308;
var anchor_y = y+140;

var rock_x_1 = anchor_x+lengthdir_x(135,220+rock_angle[0]);
var rock_y_1 = anchor_y+lengthdir_y(135,220+rock_angle[0]);
draw_sprite(spr_guardian_tail,0,rock_x_1,rock_y_1)

var rock_x_2 = anchor_x+lengthdir_x(130,245+rock_angle[1]);
var rock_y_2 = anchor_y+lengthdir_y(130,245+rock_angle[1]);
draw_sprite(spr_guardian_tail,1,rock_x_2,rock_y_2)

var rock_x_3 = anchor_x+lengthdir_x(120,280+rock_angle[2]);
var rock_y_3 = anchor_y+lengthdir_y(120,280+rock_angle[2]);
draw_sprite(spr_guardian_tail,0,rock_x_3,rock_y_3)

var rock_x_4 = anchor_x+lengthdir_x(112,304+rock_angle[3]);
var rock_y_4 = anchor_y+lengthdir_y(112,304+rock_angle[3]);
draw_sprite(spr_guardian_tail,1,rock_x_4,rock_y_4)

var rock_x_5 = anchor_x+lengthdir_x(106,332+rock_angle[4]);
var rock_y_5 = anchor_y+lengthdir_y(106,332+rock_angle[4]);
draw_sprite(spr_guardian_tail,0,rock_x_5,rock_y_5)

var rock_x_6 = anchor_x+lengthdir_x(106,0+rock_angle[13]);
var rock_y_6 = anchor_y+lengthdir_y(106,0+rock_angle[13]);
draw_sprite(spr_guardian_tail,1,rock_x_6,rock_y_6)

//Tail Ring Segment 3
var anchor_x = x+312;
var anchor_y = y+333;

var rock_x_1 = anchor_x+lengthdir_x(85,64+rock_angle[14]);
var rock_y_1 = anchor_y+lengthdir_y(85,64+rock_angle[14]);
draw_sprite(spr_guardian_tail,2,rock_x_1,rock_y_1)

var rock_x_2 = anchor_x+lengthdir_x(85,43+rock_angle[15]);
var rock_y_2 = anchor_y+lengthdir_y(85,43+rock_angle[15]);
draw_sprite(spr_guardian_tail,2,rock_x_2,rock_y_2)

var rock_x_3 = anchor_x+lengthdir_x(85,21+rock_angle[16]);
var rock_y_3 = anchor_y+lengthdir_y(85,21+rock_angle[16]);
draw_sprite(spr_guardian_tail,2,rock_x_3,rock_y_3)

var rock_x_4 = anchor_x+lengthdir_x(85,0+rock_angle[17]);
var rock_y_4 = anchor_y+lengthdir_y(85,0+rock_angle[17]);
draw_sprite(spr_guardian_tail,2,rock_x_4,rock_y_4)

var rock_x_5 = anchor_x+lengthdir_x(85,337+rock_angle[18]);
var rock_y_5 = anchor_y+lengthdir_y(85,337+rock_angle[18]);
draw_sprite(spr_guardian_tail,2,rock_x_5,rock_y_5)

var rock_x_6 = anchor_x+lengthdir_x(85,315+rock_angle[19]);
var rock_y_6 = anchor_y+lengthdir_y(85,315+rock_angle[19]);
draw_sprite(spr_guardian_tail,2,rock_x_6,rock_y_6)

var rock_x_7 = anchor_x+lengthdir_x(85,270+rock_angle[20]);
var rock_y_7 = anchor_y+lengthdir_y(85,270+rock_angle[20]);
draw_sprite(spr_guardian_tail,2,rock_x_7,rock_y_7)

var rock_x_8 = anchor_x+lengthdir_x(85,246+rock_angle[21]);
var rock_y_8 = anchor_y+lengthdir_y(85,246+rock_angle[21]);
draw_sprite(spr_guardian_tail,2,rock_x_8,rock_y_8)

var rock_x_9 = anchor_x+lengthdir_x(85,225+rock_angle[22]);
var rock_y_9 = anchor_y+lengthdir_y(85,225+rock_angle[22]);
draw_sprite(spr_guardian_tail,2,rock_x_9,rock_y_9)

var rock_x_10 = anchor_x+lengthdir_x(85,202+rock_angle[23]);
var rock_y_10 = anchor_y+lengthdir_y(85,202+rock_angle[23]);
draw_sprite(spr_guardian_tail,2,rock_x_10,rock_y_10)

var rock_x_11 = anchor_x+lengthdir_x(85,180+rock_angle[24]);
var rock_y_11 = anchor_y+lengthdir_y(85,180+rock_angle[24]);
draw_sprite(spr_guardian_tail,2,rock_x_11,rock_y_11)

//Tail Ring Segment 4
var anchor_x = x+156;
var anchor_y = y+333;

var rock_x_1 = anchor_x+lengthdir_x(64,25+rock_angle[25]);
var rock_y_1 = anchor_y+lengthdir_y(64,25+rock_angle[25]);
draw_sprite(spr_guardian_tail,3,rock_x_1,rock_y_1)

var rock_x_2 = anchor_x+lengthdir_x(64,66+rock_angle[26]);
var rock_y_2 = anchor_y+lengthdir_y(64,66+rock_angle[26]);
draw_sprite(spr_guardian_tail,3,rock_x_2,rock_y_2)

var rock_x_3 = anchor_x+lengthdir_x(64,90+rock_angle[27]);
var rock_y_3 = anchor_y+lengthdir_y(64,90+rock_angle[27]);
draw_sprite(spr_guardian_tail,3,rock_x_3,rock_y_3)

var rock_x_4 = anchor_x+lengthdir_x(64,117+rock_angle[28]);
var rock_y_4 = anchor_y+lengthdir_y(64,117+rock_angle[28]);
draw_sprite(spr_guardian_tail,3,rock_x_4,rock_y_4)

var rock_x_5 = anchor_x+lengthdir_x(64,139+rock_angle[29]);
var rock_y_5 = anchor_y+lengthdir_y(64,139+rock_angle[29]);
draw_sprite(spr_guardian_tail,3,rock_x_5,rock_y_5)

var rock_x_6 = anchor_x+lengthdir_x(64,160+rock_angle[30]);
var rock_y_6 = anchor_y+lengthdir_y(64,160+rock_angle[30]);
draw_sprite(spr_guardian_tail,3,rock_x_6,rock_y_6)

var rock_x_7 = anchor_x+lengthdir_x(64,180+rock_angle[31]);
var rock_y_7 = anchor_y+lengthdir_y(64,180+rock_angle[31]);
draw_sprite(spr_guardian_tail,3,rock_x_7,rock_y_7)

var rock_x_8 = anchor_x+lengthdir_x(64,202+rock_angle[32]);
var rock_y_8 = anchor_y+lengthdir_y(64,202+rock_angle[32]);
draw_sprite(spr_guardian_tail,3,rock_x_8,rock_y_8)

var rock_x_9 = anchor_x+lengthdir_x(64,225+rock_angle[33]);
var rock_y_9 = anchor_y+lengthdir_y(64,225+rock_angle[33]);
draw_sprite(spr_guardian_tail,4,rock_x_9,rock_y_9)

d3d_set_fog(false,0,0,0)
draw_set_blend_mode(bm_normal)
draw_set_alpha(1)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
