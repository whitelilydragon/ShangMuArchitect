<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_logic_processor</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_activate_parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Setup Counter Variables and Define Object Indexes
o = obj_game_logic
p = obj_level_editor
count = 0
map = o.use_maps_select
if (room = rm_cutscene or room = rm_campaign)
    map = o.use_cuts_select;
map_offset = ""
if o.use_maps_current_map &gt; 0
    map_offset = string(o.use_maps_current_map);
obj_id = obj_npc_dummy
obj_count = 128
nsfs_init()
//Arbitrary reference IDs for all registered NPCs in the editor
use_conversion_npc[0] = obj_npc_dummy
use_conversion_npc[1] = obj_npc_lilac
use_conversion_npc[2] = obj_npc_carol
use_conversion_npc[3] = obj_npc_milla
use_conversion_npc[4] = obj_npc_stella
use_conversion_npc[5] = obj_npc_shy
use_conversion_npc[6] = obj_npc_tiwi
use_conversion_npc[7] = obj_npc_sign
use_conversion_npc[8] = obj_npc_stumpy
use_conversion_npc[9] = obj_npc_cook
use_conversion_npc[10] = obj_npc_wacky
use_conversion_npc[11] = obj_npc_harige
use_conversion_npc[12] = obj_npc_bird_guard
use_conversion_npc[13] = obj_npc_jamie
use_conversion_npc[14] = obj_npc_cassandre
use_conversion_npc[15] = obj_npc_spade
use_conversion_npc[16] = obj_npc_azuli
use_conversion_npc[17] = obj_npc_astum
use_conversion_npc[18] = obj_npc_beibo
use_conversion_npc[19] = obj_npc_trip
use_conversion_npc[20] = obj_npc_axl
use_conversion_npc[21] = obj_npc_candy
use_conversion_npc[22] = obj_npc_umi
use_conversion_npc[23] = obj_npc_allister
use_conversion_npc[24] = obj_npc_abby
use_conversion_npc[25] = obj_npc_alexis
use_conversion_npc[26] = obj_npc_kyomi
use_conversion_npc[27] = obj_npc_xavier
use_conversion_npc[28] = obj_npc_carrie
use_conversion_npc[29] = obj_npc_ryusei
use_conversion_npc[30] = obj_npc_savvy
use_conversion_npc[31] = obj_npc_rhyme
use_conversion_npc[32] = obj_npc_clyde
use_conversion_npc[33] = obj_npc_bucky
use_conversion_npc[34] = obj_npc_ness
use_conversion_npc[35] = obj_npc_hyper
use_conversion_npc[36] = obj_npc_iris
use_conversion_npc[37] = obj_npc_maika
use_conversion_npc[38] = obj_npc_leela
use_conversion_npc[39] = obj_npc_tsuki
use_conversion_npc[40] = obj_npc_libbie_dark
use_conversion_npc[41] = obj_npc_pumppy
use_conversion_npc[42] = obj_npc_libbie
use_conversion_npc[43] = obj_npc_serena
use_conversion_npc[44] = obj_npc_chiasa
use_conversion_npc[45] = obj_npc_dean
use_conversion_npc[46] = obj_npc_shan
use_conversion_npc[47] = obj_npc_mei
use_conversion_npc[48] = obj_npc_vivid
use_conversion_npc[49] = obj_npc_garrett
use_conversion_npc[50] = obj_npc_maria
use_conversion_npc[51] = obj_npc_elric
use_conversion_npc[52] = obj_npc_beldr
use_conversion_npc[53] = obj_npc_leo
use_conversion_npc[54] = obj_npc_jett
use_conversion_npc[55] = obj_npc_marshmallow
use_conversion_npc[56] = obj_npc_vela
use_conversion_npc[57] = obj_npc_leone
use_conversion_npc[58] = obj_npc_pat
use_conversion_npc[59] = obj_npc_uny
use_conversion_npc[60] = obj_npc_kii
use_conversion_npc[61] = obj_npc_kyoti
use_conversion_npc[62] = obj_npc_yuuka
use_conversion_npc[63] = obj_npc_kubo
use_conversion_npc[64] = obj_npc_zeia
use_conversion_npc[65] = obj_npc_gauge
use_conversion_npc[66] = obj_npc_tanner
use_conversion_npc[67] = obj_npc_amy
use_conversion_npc[68] = obj_npc_alan
use_conversion_npc[69] = obj_npc_kai
use_conversion_npc[70] = obj_npc_neera
use_conversion_npc[71] = obj_npc_lilac_run
use_conversion_npc[72] = obj_npc_carol_run
use_conversion_npc[73] = obj_npc_milla_run
use_conversion_npc[74] = obj_npc_spade_run
use_conversion_npc[75] = obj_npc_carrie_run
use_conversion_npc[76] = obj_npc_chiasa_run
use_conversion_npc[77] = obj_npc_bike_run
use_conversion_npc[78] = obj_npc_mirdin
use_conversion_npc[79] = obj_npc_boss
use_conversion_npc[80] = obj_npc_dexter
use_conversion_npc[81] = obj_npc_kusei
use_conversion_npc[82] = obj_npc_flavio
use_conversion_npc[83] = obj_npc_millie
use_conversion_npc[84] = obj_npc_bird_guard_male
use_conversion_npc[85] = obj_npc_sabre
use_conversion_npc[86] = obj_npc_miko
use_conversion_npc[87] = obj_npc_vergil
use_conversion_npc[88] = obj_npc_tyler
use_conversion_npc[89] = obj_npc_nougat
use_conversion_npc[90] = obj_npc_luna
use_conversion_npc[91] = obj_npc_jonas

//Campaign Mode Overrides
if o.story_mode = 1
    {
        use_conversion_npc[7] = obj_story_sign
        //Disable NPC spawning if the player is playing an action stage in Hard Mode
        var yes = 1;
            yes = scr_get_restart_map_exceptions_list();
        if yes = 1
            {
                if o.user_enemy_level &gt;= 2
                    {
                        count = 1
                        instance_destroy();
                    }
            }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Only populate NPCs while the game is unpaused
if o.pause = 0
    {
        if (count = 0)
            {
                if (room = rm_cutscene or room = rm_campaign)
                    ini_open_ns(program_directory + "Campaign\" + map);
                else
                    ini_open_ns(program_directory + "Maps\" + map);
                obj_count = real(ini_read_string(map_offset+"lvl_hd","lvl_npc_count","128"));
            }
        //Reference Current Object's Asset
        var conversion_reference = use_conversion_npc[real(ini_read_string(map_offset+"lvl_npcs_"+string(count),"npc_object","0"))];
        //Place Object Based On Provided Parameters
        if conversion_reference &gt; 0
            {
                obj_id = instance_create(real(ini_read_string(map_offset+"lvl_npcs_"+string(count),"npc_x","0")),real(ini_read_string("lvl_npcs_"+string(count),"npc_y","0")),conversion_reference);
                if instance_exists(obj_id)
                    {
                        obj_id.npc_emotion_index = real(ini_read_string(map_offset+"lvl_npcs_"+string(count),"npc_emotion","0"));
                        obj_id.npc_direction     = real(ini_read_string(map_offset+"lvl_npcs_"+string(count),"npc_direction","1"))
                        obj_id.npc_dialog_string_p1 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"npc_string_0","")
                        obj_id.npc_dialog_string_p2 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"npc_string_1","")
                        obj_id.girls_dialog_string_p1 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"npc_string_0","")
                        obj_id.girls_dialog_string_p2 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"npc_string_1","")
                        obj_id.lilac_dialog_string_p1 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"lilac_string_0","")
                        obj_id.lilac_dialog_string_p2 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"lilac_string_1","")
                        obj_id.carol_dialog_string_p1 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"carol_string_0","")
                        obj_id.carol_dialog_string_p2 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"carol_string_1","")
                        obj_id.milla_dialog_string_p1 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"milla_string_0","")
                        obj_id.milla_dialog_string_p2 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"milla_string_1","")
                        obj_id.spade_dialog_string_p1 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"spade_string_0","")
                        obj_id.spade_dialog_string_p2 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"spade_string_1","")
                        obj_id.npc_dialog_string = ini_read_string(map_offset+"lvl_npcs_"+string(count),"npc_string_0","")
                        var emotion_p1 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"npc_emotion_0","")
                        var emotion_p2 = ini_read_string(map_offset+"lvl_npcs_"+string(count),"npc_emotion_1","")
                        //Legacy Support
                        if emotion_p1 = ""
                            {
                                obj_id.npc_dialog_emotion_p1 = obj_id.npc_emotion_index
                                obj_id.npc_dialog_emotion_p2 = obj_id.npc_emotion_index
                            }
                        else
                            {
                                obj_id.npc_emotion_index = real(emotion_p1)
                                obj_id.npc_dialog_emotion_p1 = real(emotion_p1)
                                obj_id.npc_dialog_emotion_p2 = real(emotion_p2)
                            }
                    }
            }
        count+=1
        //Close Level Map
        if count &gt;= obj_count
            {
                //Prevent newly placed NPCs from overriding the map file's data
                if instance_exists(obj_level_editor)
                    obj_level_editor.use_npc_startup_timer = 1;
                ini_close_ns()
                instance_destroy()
            }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
