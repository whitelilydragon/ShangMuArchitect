<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_potion_shop_spawn_point</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-5</depth>
  <persistent>0</persistent>
  <parentName>obj_npc_parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited()
npc_name = "Milla"
npc_speed = 0.12
draw_set_font(o.text_font_academy);
npc_dialog_string_p1 = "Welcome to Milla's Super Potion Shop!"
npc_dialog_string_p2 = "Friends get a special discount!"
npc_dialog_string = npc_dialog_string_p1
npc_emotion_idle  = spr_milla_cs_talking_neutral
npc_emotion_happy = spr_milla_cs_talking_happy
npc_emotion_angry = spr_milla_cs_super_upset
npc_emotion_sad   = spr_milla_cs_concerned
npc_emotion_sus   = spr_milla_cs_super_scared
npc_talk_while_idle = 1
npc_shopkeeper_gui = 1
npc_talk_voice = snd_text_female
sprite_index = spr_milla_cs_talking_neutral
npc_emotion_index = 0
tail_frame = 0
npc_direction = -1
shop_input_up = 0
shop_input_down = 0
shop_input_accept = 0
shop_double_click = 0
shop_mouse_previous_y = 0
shop_x_offset = 168
shop_y_select = 0
shop_y_offset = 0
shop_player_frame = 0
shop_refresh_timer = 0
shop_allowed_input_timer = 0
shop_confirmed_purchase = 0
shop_confirmed_purchase_shards = 0
if o.skin = spr_milla
    {
        npc_name = "Mr. Stumpy"
        npc_emotion_idle  = spr_npc_stumpy_idle
        npc_emotion_happy = spr_npc_stumpy_happy
        npc_emotion_angry = spr_npc_stumpy_angry
        npc_emotion_sad   = spr_npc_stumpy_sad
        npc_emotion_sus   = spr_npc_stumpy_sus
        npc_talk_voice = snd_text_male
        sprite_index = spr_npc_stumpy_idle
        npc_direction = -1
    }

if o.user_enemy_level &gt; 2
    {
        npc_name = "???"
        npc_emotion_idle  = spr_out_for_lunch
        npc_emotion_happy = spr_out_for_lunch
        npc_emotion_angry = spr_out_for_lunch
        npc_emotion_sad   = spr_out_for_lunch
        npc_emotion_sus   = spr_out_for_lunch
        npc_talk_voice = snd_text_male
        sprite_index = spr_out_for_lunch
        npc_direction = 1
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>obj_game_logic.shop_menu_movement_override = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited()
if o.pause = 0 and state = 1 and o.user_enemy_level &lt; 3
    {
        shop_refresh_timer = 0
        shop_allowed_input_timer += 1
        if shop_allowed_input_timer &gt; 30
            {
                if o.anim_current = o.anim_standing
                    shop_player_frame = o.frame;
                //Disable movement during mouse movement mode
                if o.joy_mouse_button_switch = 1
                    o.shop_menu_movement_override = 1;
                else
                    o.shop_menu_movement_override = 0;
                //Force Standing Animation
                if (o.hsp = 0) and (o.anim_current = o.anim_looking_up or o.anim_current = o.anim_ducking)
                    {
                        switch(o.skin)
                            {
                                case spr_lilac:
                                    {
                                        o.anim_current = o.anim_standing
                                        if o.frame &gt; o.anim_lilac[o.anim_standing,1]
                                            {
                                                o.frame = shop_player_frame
                                            }
                                        break;
                                    }
                                case spr_carol:
                                    {
                                        o.anim_current = o.anim_standing
                                        if o.frame &gt; o.anim_carol[o.anim_standing,1]
                                            {
                                                o.frame = o.anim_carol[o.anim_standing,0]
                                            }
                                        break;
                                    }
                                case spr_milla:
                                    {
                                        o.anim_current = o.anim_standing
                                        if o.frame &gt; o.anim_milla[o.anim_standing,1]
                                            {
                                                o.frame = o.anim_milla[o.anim_standing,0]
                                            }
                                        break;
                                    }
                                case spr_spade:
                                    {
                                        o.anim_current = o.anim_standing
                                        if o.frame &gt; o.anim_spade[o.anim_standing,1]
                                            {
                                                o.frame = o.anim_spade[o.anim_standing,0]
                                            }
                                        break;
                                    }
                            }
                    }
                //Shop Inputs
                if (o.joy_input[0,3] = 1) shop_input_up += 1; else shop_input_up = 0;
                if (o.joy_input[0,1] = 1) shop_input_down += 1; else shop_input_down = 0;
                if o.joy_input[1,0] = 1 shop_input_accept += 1; else shop_input_accept = 0;
                //Shop Selections
                if shop_input_up = 1
                    {
                        shop_y_select -= 1;
                        if shop_y_select &lt; 0
                            shop_y_select = 6;
                    }
                if shop_input_down = 1
                    {
                        shop_y_select += 1;
                        if shop_y_select &gt; 6
                            shop_y_select = 0;
                    }
                if (o.joy_mouse_button_switch = 1)
                    {
                        //Click Menu Elements
                        if mouse_check_button_pressed(o.joy_mouse_button_left)
                            {
                                if (device_mouse_x_to_gui(0) &gt; 259 and device_mouse_x_to_gui(0) &lt; 414)
                                    {
                                        if (device_mouse_y_to_gui(0) &gt; 36 and device_mouse_y_to_gui(0) &lt; 50)
                                            {
                                                shop_y_select = 0;
                                                shop_mouse_previous_y = 0
                                                shop_double_click += 1
                                            }
                                        if (device_mouse_y_to_gui(0) &gt; 52 and device_mouse_y_to_gui(0) &lt; 66)
                                            {
                                                shop_y_select = 1;
                                                shop_mouse_previous_y = 1
                                                shop_double_click += 1
                                            }
                                        if (device_mouse_y_to_gui(0) &gt; 70 and device_mouse_y_to_gui(0) &lt; 84)
                                            {
                                                shop_y_select = 2;
                                                shop_mouse_previous_y = 2
                                                shop_double_click += 1
                                            }
                                        if (device_mouse_y_to_gui(0) &gt; 86 and device_mouse_y_to_gui(0) &lt; 100)
                                            {
                                                shop_y_select = 3;
                                                shop_mouse_previous_y = 3
                                                shop_double_click += 1
                                            }
                                        if (device_mouse_y_to_gui(0) &gt; 102 and device_mouse_y_to_gui(0) &lt; 118)
                                            {
                                                shop_y_select = 4;
                                                shop_mouse_previous_y = 4
                                                shop_double_click += 1
                                            }
                                        if (device_mouse_y_to_gui(0) &gt; 120 and device_mouse_y_to_gui(0) &lt; 136)
                                            {
                                                shop_y_select = 5;
                                                shop_mouse_previous_y = 5
                                                shop_double_click += 1
                                            }
                                        if (device_mouse_y_to_gui(0) &gt; 140 and device_mouse_y_to_gui(0) &lt; 154)
                                            {
                                                shop_y_select = 6;
                                                shop_mouse_previous_y = 6
                                                shop_double_click += 1
                                            }
                                    }
                            }
                        //Double Click Safety Checks
                        if !mouse_check_button(o.joy_mouse_button_left)
                            {
                                if (device_mouse_x_to_gui(0) &gt; 259 and device_mouse_x_to_gui(0) &lt; 414)
                                    {
                                        if (device_mouse_y_to_gui(0) &gt; 36 and device_mouse_y_to_gui(0) &lt; 50)
                                            {
                                                if shop_y_select != 0
                                                    shop_double_click = 0;
                                            }
                                        if (device_mouse_y_to_gui(0) &gt; 52 and device_mouse_y_to_gui(0) &lt; 66)
                                            {
                                                if shop_y_select != 1
                                                    shop_double_click = 0;
                                            }
                                        if (device_mouse_y_to_gui(0) &gt; 70 and device_mouse_y_to_gui(0) &lt; 84)
                                            {
                                                if shop_y_select != 2
                                                    shop_double_click = 0;
                                            }
                                        if (device_mouse_y_to_gui(0) &gt; 86 and device_mouse_y_to_gui(0) &lt; 100)
                                            {
                                                if shop_y_select != 3
                                                    shop_double_click = 0;
                                            }
                                        if (device_mouse_y_to_gui(0) &gt; 102 and device_mouse_y_to_gui(0) &lt; 118)
                                            {
                                                if shop_y_select != 4
                                                    shop_double_click = 0;
                                            }
                                        if (device_mouse_y_to_gui(0) &gt; 120 and device_mouse_y_to_gui(0) &lt; 136)
                                            {
                                                if shop_y_select != 5
                                                    shop_double_click = 0;
                                            }
                                        if (device_mouse_y_to_gui(0) &gt; 140 and device_mouse_y_to_gui(0) &lt; 154)
                                            {
                                                if shop_y_select != 6
                                                    shop_double_click = 0;
                                            }
                                    }
                            }
                        if shop_double_click &gt; 2
                            shop_double_click = 0;
                    }
                if (shop_input_up = 1 or shop_input_down = 1
                or (mouse_check_button_pressed(o.joy_mouse_button_left) and shop_double_click = 1))
                    {
                        //Shop Dialog
                        draw_set_font(o.text_font_academy);
                        switch(shop_y_select)
                            {
                                case 0:
                                    {
                                        scr_set_npc_strings("Heals 1 HP!","")
                                        if o.player_shards[o.player_current] &gt; 0
                                            {
                                                scr_set_npc_strings("Heals 1 HP! (We take#petal shards for#this item, too!)","")
                                            }
                                        break;
                                    }
                                case 1: {scr_set_npc_strings("Heals 1 HP over time!","") break;}
                                case 2: {scr_set_npc_strings(string_wordwrap_width("Restores entire stamina bar!",148,"#",true),""); break;}
                                case 3: {scr_set_npc_strings(string_wordwrap_width("Restores stamina over time!",148,"#",true),""); break;}
                                case 4: {scr_set_npc_strings(string_wordwrap_width("You can jump higher for a short time!",148,"#",true),""); break;}
                                case 5: {scr_set_npc_strings(string_wordwrap_width("Potion Potato with random properties! Maybe good/bad?",148,"#",true),""); break;}
                                case 6: {scr_set_npc_strings(string_wordwrap_width("Have you finished shopping?",148,"#",true),""); break;}
                            }
                        npc_emotion_index = 0
                        audio_play_sound(pause_select,50,false);
                        if o.skin = spr_milla
                            npc_name = "Mr. Stumpy";
                    }
                //Cursor
                switch(shop_y_select)
                    {
                        case 0: {shop_y_offset = 36; break;}
                        case 1: {shop_y_offset = 53; break;}
                        case 2: {shop_y_offset = 70; break;}
                        case 3: {shop_y_offset = 87; break;}
                        case 4: {shop_y_offset = 104; break;}
                        case 5: {shop_y_offset = 121; break;}
                        case 6: {shop_y_offset = 140; break;}
                    }
                //Accept Selections
                if (shop_input_accept = 1
                or (mouse_check_button_pressed(o.joy_mouse_button_left) and shop_double_click = 2))
                and npc_dialog_iterate &gt;= string_length(npc_dialog_string)
                    {
                        var yes = 0;
                        switch(shop_y_select)
                            {
                                case 0:
                                    {
                                        if o.potion_petal_potion &lt; 10
                                            {
                                                if (o.player_gems[o.player_current] &gt;= 10
                                                and o.player_shards[o.player_current] = 0)
                                                or (o.player_shards[o.player_current] &gt; 0)
                                                    {
                                                        o.potion_petal_potion += 1;
                                                        if o.player_shards[o.player_current] = 0
                                                            o.player_gems[o.player_current] -= 10;
                                                        if o.player_shards[o.player_current] &gt; 0
                                                            {
                                                                shop_confirmed_purchase_shards = 1
                                                                o.player_shards[o.player_current] -= 1
                                                            }
                                                        yes = 1;
                                                    }
                                                else
                                                    yes = 0;
                                            }
                                        else
                                            yes = 3;
                                        break;
                                    }
                                case 1:
                                    {
                                        if o.potion_petal_core &lt; 2
                                            {
                                                if o.player_gems[o.player_current] &gt;= 100
                                                    {
                                                        o.potion_petal_core += 1;
                                                        o.player_gems[o.player_current] -= 100;
                                                        yes = 1;
                                                    }
                                                else
                                                    yes = 0;
                                            }
                                        else
                                            yes = 3;
                                        break;
                                    }
                                case 2:
                                    {
                                        if o.potion_stamina_drink &lt; 10
                                            {
                                                if o.player_gems[o.player_current] &gt;= 20
                                                    {
                                                        o.potion_stamina_drink += 1;
                                                        o.player_gems[o.player_current] -= 20;
                                                        yes = 1;
                                                    }
                                                else
                                                    yes = 0;
                                            }
                                        else
                                            yes = 3;
                                        break;
                                    }
                                case 3:
                                    {
                                        if o.potion_stamina_core &lt; 2
                                            {
                                                if o.player_gems[o.player_current] &gt;= 150
                                                    {
                                                        o.potion_stamina_core += 1;  o.player_gems[o.player_current] -= 150;
                                                        yes = 1;
                                                    }
                                                else
                                                    yes = 0;
                                            }
                                        else
                                            yes = 3;
                                        break;
                                    }
                                case 4:
                                    {
                                        if o.potion_feather_potion &lt; 2
                                            {
                                                if o.player_gems[o.player_current] &gt;= 75
                                                    {
                                                        o.potion_feather_potion += 1;
                                                        o.player_gems[o.player_current] -= 75;
                                                        yes = 1;
                                                    }
                                                else
                                                    yes = 0;
                                            }
                                        else
                                            yes = 3;
                                        break;
                                    }
                                case 5:
                                    {
                                        if o.potion_mystery_potion &lt; 12
                                            {
                                                if o.player_gems[o.player_current] &gt;= 15
                                                    {
                                                        o.potion_mystery_potion += 1
                                                        o.player_gems[o.player_current] -= 15
                                                        yes = 1
                                                    }
                                                else
                                                    yes = 0;
                                            }
                                        else
                                            yes = 3;
                                        break;
                                    }
                                case 6:
                                    {
                                        state = 0
                                        yes = 2
                                        npc_dialog_string = npc_dialog_string_p1
                                        npc_dialog_page = 0
                                        npc_dialog_iterate = 0
                                        joy_flash = 0
                                        shop_y_select = 0
                                        shop_mouse_previous_y = 0
                                        draw_set_font(o.text_font_academy);
                                        
                                        npc_dialog_string_p1 = "Welcome to Milla's Super Potion Shop!"
                                        npc_dialog_string_p2 = "Friends get a special discount!"
                                        npc_dialog_string = string_wordwrap_width(npc_dialog_string_p1,148,"#",true) 
                                        o.shop_menu_movement_override = 0
                                        break;
                                    }
                            }
                        shop_double_click = 0
                        if shop_y_select &lt; 6 and yes = 1
                            {
                                npc_emotion_index = 1
                                shop_confirmed_purchase = 1
                                draw_set_font(o.text_font_academy);
                                scr_set_npc_strings("Yay! Thank you!","")
                                if shop_confirmed_purchase_shards = 1
                                    {
                                        scr_set_npc_strings("Yay! Thank you for#the petal shard!","")
                                        shop_confirmed_purchase_shards = 0
                                    }
                                audio_play_sound(snd_midboss_gate,50,false);
                            }
                        if yes = 0
                        or yes = 3
                            {
                                draw_set_font(o.text_font_academy);
                                switch(o.skin)
                                    {
                                        case spr_lilac:
                                            {
                                                npc_emotion_index = 3
                                                if yes = 0
                                                    scr_set_npc_strings(string_wordwrap_width("You need more monies, Lilac!",148,"#",true),"");
                                                if yes = 3
                                                    scr_set_npc_strings(string_wordwrap_width("You can't hold more of these, Lilac!",148,"#",true),"");
                                                break;
                                            }
                                        case spr_carol:
                                            {
                                                if o.alt_skin = 0
                                                    {
                                                        npc_emotion_index = 2;
                                                        if yes = 0
                                                            scr_set_npc_strings(string_wordwrap_width("Stop being so cheap, Carol!",148,"#",true),"");
                                                        if yes = 3
                                                            {
                                                                npc_emotion_index = 3
                                                                scr_set_npc_strings(string_wordwrap_width("You can't hold more of these, Carol!",148,"#",true),"")
                                                            }
                                                    }
                                                if o.alt_skin = 1
                                                    {
                                                        npc_emotion_index = 3;
                                                        if yes = 0
                                                            scr_set_npc_strings(string_wordwrap_width("You may need to recount your gems, Carrie!",148,"#",true),"");
                                                        if yes = 3
                                                            scr_set_npc_strings(string_wordwrap_width("You can't hold more of these, Carrie!",148,"#",true),"");
                                                    }
                                                if o.alt_skin = 2
                                                    {
                                                        npc_emotion_index = 3;
                                                        if yes = 0
                                                            scr_set_npc_strings(string_wordwrap_width("Coupons are not real monies, Chiasa! I'm sorry!",148,"#",true),"");
                                                        if yes = 3
                                                            scr_set_npc_strings(string_wordwrap_width("You can't hold more of these, Chiasa!",148,"#",true),"");                                                        
                                                    }
                                                break;
                                            }
                                        case spr_milla:
                                            {
                                                npc_emotion_index = 3
                                                npc_name = "Milla"
                                                if yes = 0
                                                    scr_set_npc_strings(string_wordwrap_width("I can't short my own assistant!",148,"#",true),"");
                                                if yes = 3
                                                    scr_set_npc_strings(string_wordwrap_width("I can't carry more of this potion!",148,"#",true),"");
                                                break;
                                            }
                                        case spr_spade:
                                            {
                                                npc_emotion_index = 2
                                                if yes = 0
                                                    scr_set_npc_strings(string_wordwrap_width("I *know* you aren't too cool for my prices, cheapskate!",148,"#",true),"");
                                                if yes = 3
                                                    scr_set_npc_strings(string_wordwrap_width("Hey! Your pockets aren't that deep, mister shady!",148,"#",true),"");
                                                break;
                                            }
                                    }
                                audio_play_sound(character_parry,50,false);
                            }
                        audio_play_sound(pause_select,50,false)
                    }
            }
    }
if state = 0
    {
        shop_refresh_timer += 1
        if shop_refresh_timer &gt; 8
            {
                shop_y_select = 0
                shop_y_offset = 36
                shop_x_offset = 168
                npc_emotion_index = 0
                shop_refresh_timer = 0
                shop_allowed_input_timer = 0
                shop_double_click = 0
                shop_mouse_previous_y = 0
                o.shop_menu_movement_override = 0
                draw_set_font(o.text_font_academy);
                npc_dialog_string_p1 = string_wordwrap_width("Welcome to Milla's Super Potion Shop!",148,"#",true)
                npc_dialog_string_p2 = "Friends get a special discount!"
                npc_dialog_string = npc_dialog_string_p1
                if o.skin = spr_milla and npc_emotion_idle != spr_npc_stumpy_idle
                    {
                        npc_name = "Mr. Stumpy"
                        npc_emotion_idle  = spr_npc_stumpy_idle
                        npc_emotion_happy = spr_npc_stumpy_happy
                        npc_emotion_angry = spr_npc_stumpy_angry
                        npc_emotion_sad   = spr_npc_stumpy_sad
                        npc_emotion_sus   = spr_npc_stumpy_sus
                        npc_talk_voice = snd_text_male
                        sprite_index = spr_npc_stumpy_idle
                        npc_direction = -1
                    }
                if o.skin != spr_milla and npc_emotion_idle = spr_npc_stumpy_idle
                    {
                        npc_name = "Milla"
                        npc_emotion_idle  = spr_milla_cs_talking_neutral
                        npc_emotion_happy = spr_milla_cs_talking_happy
                        npc_emotion_angry = spr_milla_cs_super_upset
                        npc_emotion_sad   = spr_milla_cs_concerned
                        npc_emotion_sus   = spr_milla_cs_super_scared
                        npc_talk_voice = snd_text_female
                        sprite_index = spr_milla_cs_talking_neutral
                        npc_direction = -1
                    }
                if o.user_enemy_level &gt; 2
                    {
                        npc_name = "???"
                        npc_emotion_idle  = spr_out_for_lunch
                        npc_emotion_happy = spr_out_for_lunch
                        npc_emotion_angry = spr_out_for_lunch
                        npc_emotion_sad   = spr_out_for_lunch
                        npc_emotion_sus   = spr_out_for_lunch
                        npc_talk_voice = snd_text_male
                        sprite_index = spr_out_for_lunch
                        npc_direction = 1
                        npc_dialog_string_p1 = string_wordwrap_width("oUt FoR Lunj -Milla besset",148,"#",true)
                        npc_dialog_string_p2 = "Friends get a special discount!"
                    }
            }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited()
//Draw Shopkeeper GUI
if state = 1 and o.user_enemy_level &lt; 3
    {
        shop_x_offset = lerp(shop_x_offset,0,0.10);
        draw_sprite_stretched_ext(spr_water,0,261+shop_x_offset,11,152,149,c_white,0.80)
        if shop_confirmed_purchase &gt; 0
            {
                draw_sprite_stretched_ext(spr_target_particle,0,261+shop_x_offset,11,152,149,c_white,shop_confirmed_purchase)
                shop_confirmed_purchase -= 0.025
            }
        draw_sprite_part(spr_npc_dialoge_box,0,0,0,156,26,259+shop_x_offset,8)    //Top-Cut-Of-Box
        draw_sprite_part(spr_npc_dialoge_box,0,0,4,156,26,259+shop_x_offset,34)   //Middle-White-Cut
        draw_sprite_part(spr_npc_dialoge_box,0,0,4,156,26,259+shop_x_offset,58)   //Middle-White-Cut
        draw_sprite_part(spr_npc_dialoge_box,0,0,4,156,26,259+shop_x_offset,62)   //Middle-White-Cut
        
        draw_sprite_part(spr_npc_dialoge_box,0,0,27,156,24,259+shop_x_offset,86)  //Middle-Yellow-Cut
        draw_sprite_part(spr_npc_dialoge_box,0,0,27,156,24,259+shop_x_offset,110) //Middle-Yellow-Cut
        draw_sprite_part(spr_npc_dialoge_box,0,0,27,156,24,259+shop_x_offset,134) //Middle-Yellow-Cut
        draw_sprite_part(spr_npc_dialoge_box,0,0,51,156,5,259+shop_x_offset,158) //Bottom-Cut-Of-Box

        if shop_allowed_input_timer &gt;= 30
            draw_sprite(spr_font_academy,29,260+shop_x_offset,shop_y_offset);
        //Shop Items Text
        draw_set_font(o.text_font_academy)
        draw_set_color(c_white)
        draw_set_halign(fa_left)
        draw_text(270+shop_x_offset,18,"Milla's Potion Shop!")
        draw_text(270+shop_x_offset,37,"Petal Potion")
        draw_text(270+shop_x_offset,54,"Petal Core")
        draw_text(270+shop_x_offset,71,"Stamina Drink")
        draw_text(270+shop_x_offset,88,"Stamina Core")
        draw_text(270+shop_x_offset,105,"Feather Potion")
        draw_text(270+shop_x_offset,122,"Mystery Potion")
        draw_text(270+shop_x_offset,141,"Exit")
        //Shop Items Value
        draw_set_halign(fa_right)
        draw_text(408+shop_x_offset,37,"10")
        draw_text(408+shop_x_offset,54,"100")
        draw_text(408+shop_x_offset,71,"20")
        draw_text(408+shop_x_offset,88,"150")
        draw_text(408+shop_x_offset,105,"75")
        draw_text(408+shop_x_offset,122,"15")
        draw_text(408+shop_x_offset,172,"Gems: " + string(o.player_gems[o.player_current]))
        draw_text(408+shop_x_offset,189,"Shards: " + string(o.player_shards[o.player_current]))
        draw_set_halign(fa_left)
        //Accept Dialogue Prompt
        if npc_interface_switch_control_type = 0 draw_sprite(spr_keyboard_font,o.key_a,395+shop_x_offset,155);
        else                                     draw_background(o.user_joystick_a,395+shop_x_offset,155);
        draw_text(346+shop_x_offset,155,"Accept")
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if  npc_emotion_idle != spr_npc_stumpy_idle
and o.user_enemy_level &lt; 3
    {
        tail_frame += 0.2004
        if tail_frame &gt; 7.8 tail_frame = 0;
        draw_sprite_ext(spr_millas_tail,tail_frame,x,y-16,npc_direction,1,0,c_white,1)
    }
event_inherited()
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
