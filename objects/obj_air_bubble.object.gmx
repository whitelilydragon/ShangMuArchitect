<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_bubbles_air</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-7</depth>
  <persistent>0</persistent>
  <parentName>obj_delete_parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Initialize Variables
anim_frame      = 0         //Current frame of animation
bubble_timer    = 0         //Timer for spawning bubble particles
sound_confirm   = 0         //Confirm playback of air bubble sound
//Are We Allowed To Hold Items?
give_item = 0
item = 0
attacked = 0
water_ID = noone

//Bubble X/Y Positions
bubble_x_0  = x+random_range(-12,12); bubble_y_0  = y+random_range(-12,12);
bubble_x_1  = x+random_range(-12,12); bubble_y_1  = y+random_range(-12,12);
bubble_x_2  = x+random_range(-12,12); bubble_y_2  = y+random_range(-12,12);
bubble_x_3  = x+random_range(-12,12); bubble_y_3  = y+random_range(-12,12);
bubble_x_4  = x+random_range(-12,12); bubble_y_4  = y+random_range(-12,12);
bubble_x_5  = x+random_range(-12,12); bubble_y_5  = y+random_range(-12,12);
bubble_x_6  = x+random_range(-12,12); bubble_y_6  = y+random_range(-12,12);
bubble_x_7  = x+random_range(-12,12); bubble_y_7  = y+random_range(-12,12);
bubble_x_8  = x+random_range(-12,12); bubble_y_8  = y+random_range(-12,12);
bubble_x_9  = x+random_range(-12,12); bubble_y_9  = y+random_range(-12,12);
bubble_x_10 = x+random_range(-12,12); bubble_y_10 = y+random_range(-12,12);
bubble_x_11 = x+random_range(-12,12); bubble_y_11 = y+random_range(-12,12);
bubble_x_12 = x+random_range(-12,12); bubble_y_12 = y+random_range(-12,12);
bubble_x_13 = x+random_range(-12,12); bubble_y_13 = y+random_range(-12,12);
bubble_x_14 = x+random_range(-12,12); bubble_y_14 = y+random_range(-12,12);
bubble_x_15 = x+random_range(-12,12); bubble_y_15 = y+random_range(-12,12);
bubble_x_16 = x+random_range(-12,12); bubble_y_16 = y+random_range(-12,12);
bubble_x_17 = x+random_range(-12,12); bubble_y_17 = y+random_range(-12,12);
bubble_x_18 = x+random_range(-12,12); bubble_y_18 = y+random_range(-12,12);
bubble_x_19 = x+random_range(-12,12); bubble_y_19 = y+random_range(-12,12);

//Bubble Triggers (Yes, we are literally playing a game of 20 questions
//with these bubbles. You'll thank me later when there aren't 200 bubble
//objects causing lag on-screen. :^P)
bubble_trigger_0  = 0
bubble_trigger_1  = 0
bubble_trigger_2  = 0
bubble_trigger_3  = 0
bubble_trigger_4  = 0
bubble_trigger_5  = 0
bubble_trigger_6  = 0
bubble_trigger_7  = 0
bubble_trigger_8  = 0
bubble_trigger_9  = 0
bubble_trigger_10 = 0
bubble_trigger_11 = 0
bubble_trigger_12 = 0
bubble_trigger_13 = 0
bubble_trigger_14 = 0
bubble_trigger_15 = 0
bubble_trigger_16 = 0
bubble_trigger_17 = 0
bubble_trigger_18 = 0
bubble_trigger_19 = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Bubble Particles
if (obj_game_logic.pause = 0 and visible = true)
    {
        var height_comparison = obj_game_logic.water_height;
        if instance_exists(water_ID)
            height_comparison = water_ID.y;
        //Control Bubble Speeds During Spawn Phase
        if bubble_timer &lt;= 456
            {
                //Iterate Timer
                bubble_timer+=1
                //Spawn Bubbles At Certain Times
                switch(bubble_timer)
                    {
                        case 12:  {bubble_trigger_0 = 1}    case 36:  {bubble_trigger_1 = 1}
                        case 72:  {bubble_trigger_2 = 1}    case 96:  {bubble_trigger_3 = 1}
                        case 120: {bubble_trigger_4 = 1}    case 144: {bubble_trigger_5 = 1}
                        case 168: {bubble_trigger_6 = 1}    case 192: {bubble_trigger_7 = 1}
                        case 216: {bubble_trigger_8 = 1}    case 240: {bubble_trigger_9 = 1}
                        case 264: {bubble_trigger_10 = 1}   case 288: {bubble_trigger_11 = 1}
                        case 312: {bubble_trigger_12 = 1}   case 336: {bubble_trigger_13 = 1}
                        case 360: {bubble_trigger_14 = 1}   case 384: {bubble_trigger_15 = 1}
                        case 408: {bubble_trigger_16 = 1}   case 432: {bubble_trigger_17 = 1}
                        case 456: {bubble_trigger_18 = 1}   case 480: {bubble_trigger_19 = 1}
                    }
                //Control Bubble Speeds
                if bubble_trigger_0  = 1 {bubble_y_0  -= 1;}
                if bubble_trigger_1  = 1 {bubble_y_1  -= 1.5;}
                if bubble_trigger_2  = 1 {bubble_y_2  -= 2;}
                if bubble_trigger_3  = 1 {bubble_y_3  -= 2.25;}
                if bubble_trigger_4  = 1 {bubble_y_4  -= 2.75;}
                if bubble_trigger_5  = 1 {bubble_y_5  -= 3;}
                if bubble_trigger_6  = 1 {bubble_y_6  -= 1;}
                if bubble_trigger_7  = 1 {bubble_y_7  -= 1.5;}
                if bubble_trigger_8  = 1 {bubble_y_8  -= 2;}
                if bubble_trigger_9  = 1 {bubble_y_9  -= 2.25;}
                if bubble_trigger_10 = 1 {bubble_y_10 -= 2.75;}
                if bubble_trigger_11 = 1 {bubble_y_11 -= 3;}
                if bubble_trigger_12 = 1 {bubble_y_12 -= 1;}
                if bubble_trigger_13 = 1 {bubble_y_13 -= 1.5;}
                if bubble_trigger_14 = 1 {bubble_y_14 -= 2;}
                if bubble_trigger_15 = 1 {bubble_y_15 -= 2.25;}
                if bubble_trigger_16 = 1 {bubble_y_16 -= 2.75;}
                if bubble_trigger_17 = 1 {bubble_y_17 -= 3;}
                if bubble_trigger_18 = 1 {bubble_y_18 -= 1;}
                if bubble_trigger_19 = 1 {bubble_y_19 -= 1.5;}
            }
        else
            {
                bubble_y_0 -= 1;
                bubble_y_1 -= 1.5;
                bubble_y_2 -= 2;
                bubble_y_3 -= 2.25;
                bubble_y_4 -= 2.75;
                bubble_y_5 -= 3;
                bubble_y_6 -= 1;
                bubble_y_7 -= 1.5;
                bubble_y_8 -= 2;
                bubble_y_9 -= 2.25;
                bubble_y_10 -= 2.75;
                bubble_y_11 -= 3;
                bubble_y_12 -= 1;
                bubble_y_13 -= 1.5;
                bubble_y_14 -= 2;
                bubble_y_15 -= 2.25;
                bubble_y_16 -= 2.75;
                bubble_y_17 -= 3;
                bubble_y_18 -= 1;
                bubble_y_19 -= 1.5;
            }
        //Reposition Bubbles
        if bubble_y_0  &lt; height_comparison {bubble_y_0 = y+random_range(-12,12)}
        if bubble_y_1  &lt; height_comparison {bubble_y_1 = y+random_range(-12,12)}
        if bubble_y_2  &lt; height_comparison{bubble_y_2 = y+random_range(-12,12)}
        if bubble_y_3  &lt; height_comparison {bubble_y_3 = y+random_range(-12,12)}
        if bubble_y_4  &lt; height_comparison {bubble_y_4 = y+random_range(-12,12)}
        if bubble_y_5  &lt; height_comparison {bubble_y_5 = y+random_range(-12,12)}
        if bubble_y_6  &lt; height_comparison {bubble_y_6 = y+random_range(-12,12)}
        if bubble_y_7  &lt; height_comparison {bubble_y_7 = y+random_range(-12,12)}
        if bubble_y_8  &lt; height_comparison {bubble_y_8 = y+random_range(-12,12)}
        if bubble_y_9  &lt; height_comparison {bubble_y_9 = y+random_range(-12,12)}
        if bubble_y_10 &lt; height_comparison {bubble_y_10 = y+random_range(-12,12)}
        if bubble_y_11 &lt; height_comparison {bubble_y_11 = y+random_range(-12,12)}
        if bubble_y_12 &lt; height_comparison {bubble_y_12 = y+random_range(-12,12)}
        if bubble_y_13 &lt; height_comparison {bubble_y_13 = y+random_range(-12,12)}
        if bubble_y_14 &lt; height_comparison {bubble_y_14 = y+random_range(-12,12)}
        if bubble_y_15 &lt; height_comparison {bubble_y_15 = y+random_range(-12,12)}
        if bubble_y_16 &lt; height_comparison {bubble_y_16 = y+random_range(-12,12)}
        if bubble_y_17 &lt; height_comparison {bubble_y_17 = y+random_range(-12,12)}
        if bubble_y_18 &lt; height_comparison {bubble_y_18 = y+random_range(-12,12)}
        if bubble_y_19 &lt; height_comparison {bubble_y_19 = y+random_range(-12,12)}
    }
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Logic and Animation

//=========Animation States=========//
water_ID = collision_point(x,y,obj_smart_pools,false,true);
if y&lt;obj_game_logic.water_height and !instance_exists(water_ID)
    visible=false;
else
    visible=true;


//Execute logic only if we are visible
if (obj_game_logic.pause = 0 and visible = true)
    {
        //=========Animation System=========//
        
        //Apply animation variables to image index
        image_index = anim_frame
        image_speed = 0
        
        //If the player is within range, grow in size
        if point_distance(x,y,obj_game_logic.px,obj_game_logic.py) &lt; 36
        and obj_game_logic.user_cursor_mode = 0
            {
                //Play sound when player enters the bubble
                if sound_confirm = 0
                    {
                        audio_play_sound(snd_air_bubble,50,false)
                        audio_stop_sound(snd_drowning)
                        sound_confirm =1
                    }
                //Iterate through animation frames
                anim_frame+=0.5
                if anim_frame &gt; 7 anim_frame=6;
                //Refill the player's breath bar
                obj_game_logic.breath=obj_game_logic.breath_max
                //Refill the player's breath alarm
                obj_game_logic.alarm_timer=660
                //Reset the player's alarm animation
                obj_game_logic.alarm_frame=0
            }
        else
            {
                //Clear sound confirm variable after the player leaves the bubble
                sound_confirm = 0
                //Iterate through animation frames
                if anim_frame &lt;=1 anim_frame-=0.06
                //Shrink as quickly as we've grown
                else anim_frame-=0.5;
                //Reset animation frame
                if anim_frame &lt; 0.2 anim_frame=1;
            }        
    } //End of Pause Safety Check
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Draw Main Sprite
draw_sprite(sprite_index,anim_frame,x,y)

//Draw Bubble Sprites
draw_sprite(spr_bubbles,0,bubble_x_0,bubble_y_0)
draw_sprite(spr_bubbles,1,bubble_x_1,bubble_y_1)
draw_sprite(spr_bubbles,2,bubble_x_2,bubble_y_2)
draw_sprite(spr_bubbles,0,bubble_x_3,bubble_y_3)
draw_sprite(spr_bubbles,1,bubble_x_4,bubble_y_4)
draw_sprite(spr_bubbles,2,bubble_x_5,bubble_y_5)
draw_sprite(spr_bubbles,0,bubble_x_6,bubble_y_6)
draw_sprite(spr_bubbles,1,bubble_x_7,bubble_y_7)
draw_sprite(spr_bubbles,2,bubble_x_8,bubble_y_8)
draw_sprite(spr_bubbles,0,bubble_x_9,bubble_y_9)
draw_sprite(spr_bubbles,1,bubble_x_10,bubble_y_10)
draw_sprite(spr_bubbles,2,bubble_x_11,bubble_y_11)
draw_sprite(spr_bubbles,0,bubble_x_12,bubble_y_12)
draw_sprite(spr_bubbles,1,bubble_x_13,bubble_y_13)
draw_sprite(spr_bubbles,2,bubble_x_14,bubble_y_14)
draw_sprite(spr_bubbles,0,bubble_x_15,bubble_y_15)
draw_sprite(spr_bubbles,1,bubble_x_16,bubble_y_16)
draw_sprite(spr_bubbles,2,bubble_x_17,bubble_y_17)
draw_sprite(spr_bubbles,0,bubble_x_18,bubble_y_18)
draw_sprite(spr_bubbles,1,bubble_x_19,bubble_y_19)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
