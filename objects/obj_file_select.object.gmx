<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_logic_processor</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-5</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>o = obj_game_logic
background_visible[3] = false
background_visible[4] = true
input_cooldown = 0
    input_up = 0
    input_down = 0
    input_a = 0
    input_b = 0
    input_c = 0
    input_start = 0
selected_file = 0
selected_file_frame = 0
selected_file_delete = 0
    selected_file_delete_timer = 8
    alarm_set(0,8)
transition_active = 0
transition_position = 0

selected_file_0_playtime_minutes = string(o.player_play_time[0])
selected_file_0_playtime_seconds = string_copy(o.player_play_time[0],3,2)
selected_file_0_playtime_milli   = string_copy(o.player_play_time[0],5,2)
selected_file_0_stage = string_copy(o.player_hub[0],1,4)+"..."
selected_file_0_bosses = o.player_bosses[0]
selected_file_0_slot = 0
if o.player_bosses[0] = 0
    selected_file_0_stage = "New File";
else
    selected_file_0_bosses = o.player_bosses[0]+1;
selected_file_skin_0 = 0
switch(o.player_skin[0])
    {
        case 0: {selected_file_skin_0 = 0; break;}
        case 1: {selected_file_skin_0 = 4; break;}
        case 2: {selected_file_skin_0 = 5; break;}
        case 3: {selected_file_skin_0 = 7; break;}
        case 4: {selected_file_skin_0 = 9; break;}
        case 5: {selected_file_skin_0 = 10; break;}
    }
selected_file_gems_0 = o.player_gems[0]
if selected_file_0_stage = "New File"
and selected_file_gems_0 &gt; 0
    {
        selected_file_0_stage = "West..."
        selected_file_0_bosses = 1
    }

selected_file_1_playtime_minutes = string(o.player_play_time[1])
selected_file_1_playtime_seconds = string_copy(o.player_play_time[1],3,2)
selected_file_1_playtime_milli   = string_copy(o.player_play_time[1],5,2)
selected_file_1_stage = string_copy(o.player_hub[1],1,4)+"..."
selected_file_1_bosses = o.player_bosses[1]
selected_file_1_slot = 0
if o.player_bosses[1] = 0
    selected_file_1_stage = "New File";
else
    selected_file_1_bosses = o.player_bosses[1]+1;
selected_file_skin_1 = 1
switch(o.player_skin[1])
    {
        case 0: {selected_file_skin_1 = 0; break;}
        case 1: {selected_file_skin_1 = 4; break;}
        case 2: {selected_file_skin_1 = 5; break;}
        case 3: {selected_file_skin_1 = 7; break;}
        case 4: {selected_file_skin_1 = 9; break;}
        case 5: {selected_file_skin_1 = 10; break;}
    }
selected_file_gems_1 = o.player_gems[1]
if selected_file_1_stage = "New File"
and selected_file_gems_1 &gt; 0
    {
        selected_file_1_stage = "West..."
        selected_file_1_bosses = 1
    }

selected_file_2_playtime_minutes = string(o.player_play_time[2])
selected_file_2_playtime_seconds = string_copy(o.player_play_time[2],3,2)
selected_file_2_playtime_milli = string_copy(o.player_play_time[2],5,2)
selected_file_2_stage = string_copy(o.player_hub[2],1,4)+"..."
selected_file_2_bosses = o.player_bosses[2]
selected_file_2_slot = 2
if o.player_bosses[2] = 0
    selected_file_2_stage = "New File";
else
    selected_file_2_bosses = o.player_bosses[2]+1;
selected_file_skin_2 = 0
switch(o.player_skin[2])
    {
        case 0: {selected_file_skin_2 = 0; break;}
        case 1: {selected_file_skin_2 = 4; break;}
        case 2: {selected_file_skin_2 = 5; break;}
        case 3: {selected_file_skin_2 = 7; break;}
        case 4: {selected_file_skin_2 = 9; break;}
        case 5: {selected_file_skin_2 = 10; break;}
    }
selected_file_gems_2 = o.player_gems[2]
if selected_file_2_stage = "New File"
and selected_file_gems_2 &gt; 0
    {
        selected_file_2_stage = "West..."
        selected_file_2_bosses = 1
    }

selected_file_3_playtime_minutes = string(o.player_play_time[3])
selected_file_3_playtime_seconds = string_copy(o.player_play_time[3],3,2)
selected_file_3_playtime_milli = string_copy(o.player_play_time[3],5,2)
selected_file_3_stage = string_copy(o.player_hub[3],1,4)+"..."
selected_file_3_bosses = o.player_bosses[3]
selected_file_3_slot = 3
if o.player_bosses[3] = 0
    selected_file_3_stage = "New File";
else
    selected_file_3_bosses = o.player_bosses[3]+1;
selected_file_skin_3 = 0
switch(o.player_skin[3])
    {
        case 0: {selected_file_skin_3 = 0; break;}
        case 1: {selected_file_skin_3 = 4; break;}
        case 2: {selected_file_skin_3 = 5; break;}
        case 3: {selected_file_skin_3 = 7; break;}
        case 4: {selected_file_skin_3 = 9; break;}
        case 5: {selected_file_skin_3 = 10; break;}
    }
selected_file_gems_3 = o.player_gems[3]
if selected_file_3_stage = "New File"
and selected_file_gems_3 &gt; 0
    {
        selected_file_3_stage = "West..."
        selected_file_3_bosses = 1
    }

selected_file_4_playtime_minutes = string(o.player_play_time[12])
selected_file_4_playtime_seconds = string_copy(o.player_play_time[12],3,2)
selected_file_4_playtime_milli = string_copy(o.player_play_time[12],5,2)
selected_file_4_stage = string_copy(o.player_hub[12],1,4)+"..."
selected_file_4_bosses = o.player_bosses[12]
selected_file_4_slot = 12
if o.player_bosses[12] = 0
    selected_file_4_stage = "New File";
else
    selected_file_4_bosses = o.player_bosses[12]+1;
selected_file_skin_4 = 0
switch(o.player_skin[12])
    {
        case 0: {selected_file_skin_4 = 0; break;}
        case 1: {selected_file_skin_4 = 4; break;}
        case 2: {selected_file_skin_4 = 5; break;}
        case 3: {selected_file_skin_4 = 7; break;}
        case 4: {selected_file_skin_4 = 9; break;}
        case 5: {selected_file_skin_4 = 10; break;}
    }
selected_file_gems_4 = o.player_gems[12]
if selected_file_4_stage = "New File"
and selected_file_gems_4 &gt; 0
    {
        selected_file_4_stage = "West..."
        selected_file_4_bosses = 1
    }

selected_file_5_playtime_minutes = string(o.player_play_time[5])
selected_file_5_playtime_seconds = string_copy(o.player_play_time[5],3,2)
selected_file_5_playtime_milli = string_copy(o.player_play_time[5],5,2)
selected_file_5_stage = string_copy(o.player_hub[5],1,4)+"..."
selected_file_5_bosses = o.player_bosses[5]
selected_file_5_slot = 5
if o.player_bosses[5] = 0
    selected_file_5_stage = "New File";
else
    selected_file_5_bosses = o.player_bosses[5]+1;
selected_file_skin_5 = 0
switch(o.player_skin[5])
    {
        case 0: {selected_file_skin_5 = 0; break;}
        case 1: {selected_file_skin_5 = 4; break;}
        case 2: {selected_file_skin_5 = 5; break;}
        case 3: {selected_file_skin_5 = 7; break;}
        case 4: {selected_file_skin_5 = 9; break;}
        case 5: {selected_file_skin_5 = 10; break;}
    }
selected_file_gems_5 = o.player_gems[5]
if selected_file_5_stage = "New File"
and selected_file_gems_5 &gt; 0
    {
        selected_file_5_stage = "West..."
        selected_file_5_bosses = 1
    }

scr_lang_file_select()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//D-Pad Movement
if o.joy_input[0,1] = 1 input_down  += 1 else input_down = 0;
if o.joy_input[0,3] = 1 input_up += 1 else input_up = 0;

//Player Actions
if o.joy_input[1,0] = 1  input_a += 1; else input_a = 0; //Joystick A (Cancel/Attack)
if o.joy_input[1,2] = 1  input_b += 1; else input_b = 0; //Joystick B (Accept/Jump)
if o.joy_input[1,3] = 1  input_c += 1; else input_c = 0; //Joystick B (Accept/Jump)
if o.joy_input[2,0] = 1  input_start += 1; else input_start = 0; //Joystick Start (Accept/Jump)

selected_file_frame += 0.25
if selected_file_frame &gt; 1 selected_file_frame = 0;

if selected_file_delete_timer &gt; 0
    selected_file_delete_timer -= 1;

if ((mouse_check_button_pressed(mb_left))
and o.joy_mouse_button_switch = 1
and selected_file_delete_timer = 0
and device_mouse_x_to_gui(0) &gt;= 77 and device_mouse_x_to_gui(0) &lt;= 348
and device_mouse_y_to_gui(0) &gt;= 41 and device_mouse_y_to_gui(0) &lt;= 207)
    {
        //File 1
        if device_mouse_y_to_gui(0) &gt;= 41 and device_mouse_y_to_gui(0) &lt;= 95
            selected_file = 0;
        //File 2
        if device_mouse_y_to_gui(0) &gt;= 97 and device_mouse_y_to_gui(0) &lt;= 151
            selected_file = 1;
        //File 3
        if device_mouse_y_to_gui(0) &gt;= 153 and device_mouse_y_to_gui(0) &lt;= 207
            selected_file = 2;
        input_b = 1
    }

if input_up = 1
    {
        selected_file -= 1
        if selected_file &lt; 0 selected_file = 2;
        audio_play_sound(pause_select,50,false)
    }

if input_down = 1
    {
        selected_file += 1
        if selected_file &gt; 2 selected_file = 0;
        audio_play_sound(pause_select,50,false)
    }

//Delete Files
if input_c = 1 and selected_file_delete_timer = 0
    {
        selected_file_delete += 1
        if selected_file_delete &gt; 1
            selected_file_delete = 0;
        audio_play_sound(pause_select,50,false)
    }
if selected_file_delete = 1 and selected_file_delete_timer = 0
    {
        if input_b = 1
            {
                selected_file_delete = 0
                var slot_number = selected_file_0_slot;
                switch(selected_file)
                    {
                        case 0: {slot_number = selected_file_0_slot; break;}
                        case 1: {slot_number = selected_file_1_slot; break;}
                        case 2: {slot_number = selected_file_2_slot; break;}
                        case 3: {slot_number = selected_file_3_slot; break;}
                        case 4: {slot_number = selected_file_4_slot; break;}
                        case 5: {slot_number = selected_file_5_slot; break;}
                    }
                audio_play_sound(snd_enemy_explosion,50,false)
                scr_set_delete_save_data(slot_number)
                selected_file_delete_timer = 8
                event_perform(ev_create,0)
                o.saving_prompt = 60
            }
        if input_a = 1
            {
                selected_file_delete = 0
                selected_file_delete_timer = 8
                audio_play_sound(pause_select,50,false)
            }
    }


//Select Your File
if obj_transition.transition_active = 0 and selected_file_delete = 0
and selected_file_delete_timer = 0
    {
        if (input_b = 1 or input_start = 1)
            {
                obj_transition.transition_active = 1
                obj_transition.transition_index = obj_stage_select
                obj_transition.destroy_id = id

                o.player_current = selected_file

                //Offset save slots for classic mode
                if object_index = obj_classic_file_select
                    {
                        o.player_current = selected_file + 6
                        o.classic_mode = 1
                    }

                //Go to the character select screen for a new save file
                if o.player_bosses[selected_file] = 0
                    {
                        obj_transition.transition_index = obj_character_select;
                        obj_transition.transition_new_file = 0
                    }
                //Resume old save file
                else
                    {
                        //Resume Story Mode Save File
                        obj_transition.transition_new_file = 2
                        //Resume Classic Mode Save File
                        if obj_transition.transition_mode = 1
                            obj_transition.transition_new_file = 4
                    }
                if o.player_bosses[o.player_current] = 0
                    {
                        obj_transition.transition_new_file = 0;
                        if o.classic_mode = 1
                            obj_transition.transition_index = obj_character_select;
                    }
                audio_play_sound(pause_exit,50,false)
            }
        if input_a = 1
            {
                obj_transition.transition_active = 1
                obj_transition.transition_index = obj_campaign_mode_select
                obj_transition.transition_active = 2
                obj_transition.destroy_id = id
                audio_play_sound(pause_exit,50,false)
                o.classic_mode = 0
            }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_font(o.stage_title_font)
draw_set_color(c_white)
draw_set_halign(fa_center)
var alpha = 1;
if selected_file_delete = 1
    {
        draw_sprite_ext(spr_rain,0,0,0,426,240,0,c_white,0.8)
        draw_text(213,98,lang_gui[o.user_language_mode,1])
        alpha = 0.5
    }
draw_set_halign(fa_left)
//Force movelist display so we can draw the appropriate graphics for the menu's buttons
o.user_move_list_display = 1
if o.user_move_list_control_type = 0
    {
        draw_sprite_ext(spr_keyboard_font,o.key_c,354,215,1,1,0,c_white,alpha)
        draw_sprite(spr_keyboard_font,o.key_a,285,215)
        draw_sprite(spr_keyboard_font,o.key_b,212,215)
    }
else
    {
        draw_background_ext(o.user_joystick_c,354,215,1,1,0,c_white,alpha)
        draw_background(o.user_joystick_a,285,215)
        draw_background(o.user_joystick_b,212,215)
    }
draw_set_font(o.text_font_academy)
draw_set_color(c_white)
draw_text(229,217,lang_gui[o.user_language_mode,3])
draw_text(302,217,lang_gui[o.user_language_mode,5])
draw_set_alpha(alpha)
draw_text(371,217,lang_gui[o.user_language_mode,6])
draw_set_alpha(1)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_font(o.stage_title_font)
draw_set_color(c_white)
draw_set_halign(fa_center)
draw_text(213,5,lang_gui[o.user_language_mode,0])
draw_sprite(spr_ui_file_select,0,77,41)
draw_sprite(spr_ui_file_select,0,145,97)
draw_sprite(spr_ui_file_select,0,213,153)
draw_set_halign(fa_left)
draw_text(16,200,"DEMO")
//Selected File
var selected_file_x = 77;
var selected_file_y = 41;
switch(selected_file)
    {
        case 0: {selected_file_x =  77; selected_file_y =  41; break;}
        case 1: {selected_file_x = 145; selected_file_y =  97; break;}
        case 2: {selected_file_x = 213; selected_file_y = 153; break;}
    }
draw_sprite(spr_ui_file_select,selected_file_frame,selected_file_x,selected_file_y)
//Playtime
draw_sprite(spr_hud_pieces,1,198,65)
draw_sprite(spr_hud_pieces,1,266,121)
draw_sprite(spr_hud_pieces,1,334,177)
draw_sprite(spr_hud_pieces,2,130,83)
draw_sprite(spr_hud_pieces,2,198,139)
draw_sprite(spr_hud_pieces,2,266,195)
//draw_sprite(spr_hud_pieces,8,164,85)
//draw_sprite(spr_hud_pieces,8,188,85)
//draw_sprite(spr_hud_pieces,8,232,141)
//draw_sprite(spr_hud_pieces,8,256,141)
//draw_sprite(spr_hud_pieces,8,300,197)
//draw_sprite(spr_hud_pieces,8,324,197)
draw_set_font(o.number_font_academy)
    draw_text(144,84,selected_file_0_playtime_minutes)
    //draw_text(168,84,selected_file_0_playtime_seconds)
    //draw_text(192,84,selected_file_0_playtime_milli)
    if selected_file_0_stage != "New File"
        draw_sprite(spr_hud_pieces,selected_file_skin_0,77,61);

    draw_text(212,140,selected_file_1_playtime_minutes)
    //draw_text(236,140,selected_file_1_playtime_seconds)
    //draw_text(260,140,selected_file_1_playtime_milli)
    if selected_file_1_stage != "New File"
        draw_sprite(spr_hud_pieces,selected_file_skin_1,145,117);

    draw_text(280,196,selected_file_2_playtime_minutes)
    //draw_text(304,196,selected_file_2_playtime_seconds)
    //draw_text(328,196,selected_file_2_playtime_milli)
    if selected_file_2_stage != "New File"
        draw_sprite(spr_hud_pieces,selected_file_skin_2,213,173);

//Files' Contents
draw_set_color(c_white)
draw_set_font(o.text_font_academy)
draw_set_halign(fa_right)
//File 1
draw_sprite(spr_ui_stage_list_thumbnails,selected_file_0_bosses,90,47)
draw_text(91,47,"1") //File 1
draw_text(198,47,selected_file_0_stage)  //Hub Name
draw_text(198,65,selected_file_gems_0) //Crystal Gems
//File 2
draw_sprite(spr_ui_stage_list_thumbnails,selected_file_1_bosses,158,103)
draw_text(159,103,"2") //File 2
draw_text(266,103,selected_file_1_stage)  //Hub Name
draw_text(266,121,selected_file_gems_1) //Crystal Gems
//File 3
draw_sprite(spr_ui_stage_list_thumbnails,selected_file_2_bosses,226,159)
draw_text(227,159,"3") //File 3
draw_text(334,159,selected_file_2_stage)  //Hub Name
draw_text(334,177,selected_file_gems_2) //Crystal Gems
draw_set_halign(fa_left)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
