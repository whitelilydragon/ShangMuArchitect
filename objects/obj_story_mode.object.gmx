<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_story_mode</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_activate_parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Trigger Story Mode Events
o = obj_game_logic
o.story_mode = 1
transition_active = 0
transition_position = -128
//If we are inside a hub map, play a reverse-skewed transition effect
var yes = 1;
    yes = scr_get_restart_map_exceptions_list();
if (yes = 0 or o.use_cuts_select = "TaishanTutorial.map")
    transition_active = 1;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Override Music Skips For Certain Campaign Maps
if o.use_cuts_select = "WestDistrict02.map"
or o.use_cuts_select = "EastDistrict02.map"
or o.use_cuts_select = "EastDistrict03.map"
or o.use_cuts_select = "WestDistrict02.map"
    o.dont_change_music = 1;
if o.use_cuts_select = "WestDistrict03.map"
or o.use_cuts_select = "WestDistrict04.map"
//
or o.use_cuts_select = "TaishanMountain03.map"
or o.use_cuts_select = "TaishanMountain04.map"
or o.use_cuts_select = "TaishanMountain05.map"
    o.dont_change_music = 0;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Add Campaign-Mode Specific Trains/Warps
if o.use_cuts_select = "AcademyHub00.map"
or o.use_cuts_select = "AcademyHub01.map"
or o.use_cuts_select = "AcademyHub02.map"
or o.use_cuts_select = "AcademyHub03.map"
or o.use_cuts_select = "AcademyHub04.map"
or o.use_cuts_select = "AcademyHub05.map"
or o.use_cuts_select = "AcademyHub06.map"
or o.use_cuts_select = "AcademyHub07.map"
or o.use_cuts_select = "AcademyHub08.map"
or o.use_cuts_select = "AcademyHub09.map"
    {
        o.draw_timer = 0
        instance_create(x+6648,y+3856,obj_train_car_campaign)
    }
if o.use_cuts_select = "ShangMuMallHub0.map"
or o.use_cuts_select = "ShangMuMallHub1.map"
or o.use_cuts_select = "ShangMuMallHub2.map"
or o.use_cuts_select = "ShangMuMallHub3.map"
or o.use_cuts_select = "ShangMuMallHub4.map"
or o.use_cuts_select = "ShangMuMallHub5.map"
or o.use_cuts_select = "ShangMuMallHub6.map"
or o.use_cuts_select = "ShangMuMallHub7.map"
or o.use_cuts_select = "ShangMuMallHub8.map"
or o.use_cuts_select = "ShangMuMallHub9.map"
    {
        o.draw_timer = 0
        var train_id = instance_create(x+176,y+4296,obj_train_car_campaign);
        train_id.depth = 10
        train_id.train_alt_map = "train_city_to_station.map"

        //Lilac
        /*
        var dance_id = instance_create(2108,4128,obj_anniversary_dancing);
        dance_id.sprite_index = spr_lilac
        dance_id.frame = 223
        dance_id.framestart = 223
        dance_id.framecap = 236
        dance_id.framespeed = 0.22
        //Carol
        var dance_id = instance_create(2054,4128,obj_anniversary_dancing);
        dance_id.sprite_index = spr_carol
        dance_id.frame = 294
        dance_id.framestart = 294
        dance_id.framecap = 302
        dance_id.framespeed = 0.22
        //Milla
        var dance_id = instance_create(2160,4128,obj_anniversary_dancing);
        dance_id.sprite_index = spr_milla
        dance_id.frame = 186
        dance_id.framestart = 186
        dance_id.framecap = 197
        dance_id.framespeed = 0.22
        //Spade
        var dance_id = instance_create(2212,4128,obj_anniversary_dancing);
        dance_id.sprite_index = spr_spade
        dance_id.frame = 119
        dance_id.framestart = 119
        dance_id.framecap = 120
        dance_id.framespeed = 0.18
        //Carrie
        var dance_id = instance_create(2256,4128,obj_anniversary_dancing);
        dance_id.sprite_index = spr_carol_new
        dance_id.frame = 289
        dance_id.framestart = 289
        dance_id.framecap = 302
        dance_id.framespeed = 0.22
        //Chiasa
        var dance_id = instance_create(1972,4128,obj_anniversary_dancing);
        dance_id.sprite_index = spr_carol_old
        dance_id.frame = 289
        dance_id.framestart = 289
        dance_id.framecap = 302
        dance_id.framespeed = 0.20
        */
    }
if o.use_cuts_select = "TaishanHub00.map"
or o.use_cuts_select = "TaishanHub01.map"
or o.use_cuts_select = "TaishanHub02.map"
or o.use_cuts_select = "TaishanHub03.map"
or o.use_cuts_select = "TaishanHub04.map"
or o.use_cuts_select = "TaishanHub05.map"
or o.use_cuts_select = "TaishanHub06.map"
or o.use_cuts_select = "TaishanHub07.map"
or o.use_cuts_select = "TaishanHub08.map"
or o.use_cuts_select = "TaishanHub09.map"
    {
        o.draw_timer = 0
        var train_id = instance_create(x+2920,y+3976,obj_train_car_campaign);
        train_id.depth = 0
        train_id.train_alt_map = "train_city_to_station.map"
        if o.use_cuts_select != "TaishanHub00.map"
            {
                instance_create(x+9184,y+3768,obj_warp_to_stage_campaign);
                if o.story_state &lt; 3
                    o.story_state = 3;
            }
    }
if o.use_cuts_select = "WestDistrictHub01.map"
or o.use_cuts_select = "WestDistrictHub02.map"
    {
        o.draw_timer = 0
        var train_id = instance_create(x+4154,y+3790,obj_train_car_campaign);
        //Disable the train's functionality for the very-first version of West District
        if o.use_cuts_select = "WestDistrictHub01.map"
            train_id.transition_disable = 1;
        train_id.train_alt_map = "train_city_to_station.map";
        instance_create(x+7730,y+4209,obj_warp_to_stage_campaign)
    }
if o.use_cuts_select = "WestDistrictHub03.map"
or o.use_cuts_select = "WestDistrictHub04.map"
or o.use_cuts_select = "WestDistrictHub05.map"
or o.use_cuts_select = "WestDistrictHub06.map"
or o.use_cuts_select = "WestDistrictHub07.map"
or o.use_cuts_select = "WestDistrictHub08.map"
or o.use_cuts_select = "WestDistrictHub09.map"
or o.use_cuts_select = "WestDistrictHub10.map"
or o.use_cuts_select = "WestDistrictHub11.map"
or o.use_cuts_select = "WestDistrictHub12.map"
    {
        o.draw_timer = 0
        var train_id = instance_create(x+4154,y+3790,obj_train_car_campaign);
            train_id.train_alt_map = "train_city_to_station.map"
        instance_create(x+7730,y+4209,obj_warp_to_stage_campaign)
    }
if o.use_cuts_select = "TempleHub01.map"
or o.use_cuts_select = "TempleHub02.map"
or o.use_cuts_select = "TempleHub03.map"
or o.use_cuts_select = "TempleHub04.map"
or o.use_cuts_select = "TempleHub05.map"
or o.use_cuts_select = "TempleHub5A.map"
or o.use_cuts_select = "TempleHub06.map"
or o.use_cuts_select = "TempleHub07.map"
or o.use_cuts_select = "TempleHub08.map"
or o.use_cuts_select = "TempleHub09.map"
or o.use_cuts_select = "TempleHub10.map"
or o.use_cuts_select = "TempleHub11.map"
or o.use_cuts_select = "TempleHub12.map"
    {
        o.draw_timer = 0
        var train_id = instance_create(x+568,y+2928,obj_train_car_campaign);
            train_id.train_alt_map = "train_city_to_station.map"
            train_id.depth = 0
        //Warp to Stage
        instance_create(5150,408,obj_warp_to_stage_campaign)
        if o.use_cuts_select = "TempleHub03.map"
            instance_create(5070,412,obj_bg_changer_3);
        if o.use_cuts_select = "TempleHub04.map"
        or o.use_cuts_select = "TempleHub05.map"
            {
                instance_create(5070,412,obj_bg_changer_2);
            }
        //Warp to Cutscene 7 (Post-Bouncer's Defeat)
        if o.use_cuts_select = "TempleHub02.map"
            instance_create(3844,376,obj_warp_to_cutscene);
        if o.use_cuts_select = "TempleHub5A.map"
            instance_create(2476,2696,obj_warp_to_cutscene);
        //Background Changer Hotfix
        if o.use_cuts_select = "TempleHub03.map"
            instance_create(3824,312,obj_bg_changer_3);
        if o.use_cuts_select = "TempleHub05.map"
            instance_create(2876,2700,obj_bg_changer_2);
    }
if o.use_cuts_select = "EastDistrictHub01.map"
or o.use_cuts_select = "EastDistrictHub02.map"
or o.use_cuts_select = "EastDistrictHub03.map"
or o.use_cuts_select = "EastDistrictHub04.map"
or o.use_cuts_select = "EastDistrictHub05.map"
or o.use_cuts_select = "EastDistrictHub06.map"
or o.use_cuts_select = "EastDistrictHub07.map"
or o.use_cuts_select = "EastDistrictHub08.map"
or o.use_cuts_select = "EastDistrictHub09.map"
    {
        o.draw_timer = 0
        var train_id = instance_create(x+10585,y+1616,obj_train_car_campaign);
            train_id.train_alt_map = "train_city_to_station.map"
        instance_create(x+11086,y+1912,obj_warp_to_stage_campaign)
    }
if o.use_cuts_select = "TrainStation00.map"
or o.use_cuts_select = "TrainStation01.map"
or o.use_cuts_select = "TrainStation02.map"
or o.use_cuts_select = "TrainStation03.map"
or o.use_cuts_select = "TrainStation04.map"
or o.use_cuts_select = "TrainStation05.map"
or o.use_cuts_select = "TrainStation06.map"
or o.use_cuts_select = "TrainStation07.map"
or o.use_cuts_select = "TrainStation08.map"
or o.use_cuts_select = "TrainStation09.map"
    {
        o.draw_timer = 0
        //Create train station signage drawing objects
        //West District
        var sign_id = instance_create(6840,2000,obj_train_station_signs);
        sign_id.image_index = 0;
        //East District
        var sign_id = instance_create(7512,2090,obj_train_station_signs);
        sign_id.image_index = 1;
        //Shang Mu Metropolis
        var sign_id = instance_create(7773,2072,obj_train_station_signs);
        sign_id.image_index = 2;
        //Shang Mu Academy
        var sign_id = instance_create(8000,2072,obj_train_station_signs);
        sign_id.image_index = 3;
        //Academy HR
        var sign_id = instance_create(8642,2050,obj_train_station_signs);
        sign_id.image_index = 4;
        //Academy Temple
        var sign_id = instance_create(9058,2050,obj_train_station_signs);
        sign_id.image_index = 5;
        //Taishan Mountain
        var sign_id = instance_create(10144,2050,obj_train_station_signs);
        sign_id.image_index = 6;
        //Liyu Lagoon
        var sign_id = instance_create(11412,1990,obj_train_station_signs);
        sign_id.image_index = 8;
        instance_create(8000,2226,obj_kiosk_npc)
        var train_id = instance_create(x+6900,y+2176,obj_train_car_campaign);
            train_id.train_alt_map = "train_station_to_wd.map"
        var train_id = instance_create(x+7540,y+2272,obj_train_car_campaign);
            train_id.train_alt_map = "train_station_to_ed.map"
        if obj_game_logic.story_state &gt;= 2
            {
                var train_id = instance_create(x+8704,y+2224,obj_train_car_campaign);
                    train_id.train_alt_map = "train_station_to_sma.map"
            }
        var train_id = instance_create(x+9120,y+2224,obj_train_car_campaign);
            train_id.train_alt_map = "train_station_to_smt.map"
        var train_id = instance_create(x+10200,y+2224,obj_train_car_campaign);
            train_id.train_alt_map = "train_station_to_tai.map"
        var train_id = instance_create(x+11412,y+2160,obj_train_car_campaign);
            train_id.train_alt_map = "train_station_to_lg.map"
    }
if o.use_cuts_select = "LagoonHub01.map"
or o.use_cuts_select = "LagoonHub02.map"
or o.use_cuts_select = "LagoonHub03.map"
or o.use_cuts_select = "LagoonHub04.map"
or o.use_cuts_select = "LagoonHub05.map"
or o.use_cuts_select = "LagoonHub06.map"
or o.use_cuts_select = "LagoonHub07.map"
or o.use_cuts_select = "LagoonHub08.map"
or o.use_cuts_select = "LagoonHub09.map"
    {
        o.draw_timer = 0
        var train_id = instance_create(x+38,y+4128,obj_train_car_campaign);
            train_id.train_alt_map = "train_city_to_station.map"
        instance_create(x+5514,y+4064,obj_warp_to_stage_campaign)
        //Change Player Costumes Just For This Hub
        if o.skin = spr_lilac
            {
                o.alt_skin = 1
                o.lives_spr = 6
                scr_set_lilac()
            }
        if o.skin = spr_milla
            {
                o.alt_skin = 1
                scr_set_milla()
            }
    }
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Add Campaign-Mode Specific NPCs
if o.use_cuts_select = "TempleHub00.map"
or o.use_cuts_select = "TrainStation00.map"
    o.draw_timer = 0;
if o.use_cuts_select = "TempleHub00.map"
or o.use_cuts_select = "TempleHub01.map"
or o.use_cuts_select = "TempleHub02.map"
or o.use_cuts_select = "TempleHub04.map"
or o.use_cuts_select = "TempleHub05.map"
or o.use_cuts_select = "TempleHub06.map"
or o.use_cuts_select = "TempleHub07.map"
or o.use_cuts_select = "TempleHub08.map"
or o.use_cuts_select = "TempleHub09.map"
or o.use_cuts_select = "TempleHub10.map"
or o.use_cuts_select = "TempleHub11.map"
    {
        if o.use_cuts_select = "TempleHub05.map"
            {
                var jamie_id = instance_create(x+1360,y+2928,obj_npc_bird_guard_hurt);
                jamie_id.npc_dialog_string_p1 = "Weh...?"
                jamie_id.npc_dialog_string_p2 = "..."
                jamie_id.npc_dialog_string = jamie_id.npc_dialog_string_p1
                jamie_id.girls_dialog_string_p1 = jamie_id.npc_dialog_string_p1
                jamie_id.girls_dialog_string_p2 = jamie_id.npc_dialog_string_p2
                jamie_id.npc_emotion_index = 0
                jamie_id.npc_dialog_emotion_p1 = 0
                jamie_id.npc_dialog_emotion_p2 = 0
                jamie_id.npc_direction = 1
            }
        //Add NPC job (Dean - Temple Job 04)
        if o.use_cuts_select = "TempleHub00.map"
            {
                var dean_id = instance_create(x+3024,y+2824,obj_story_dean);
                dean_id.npc_direction = -1
                dean_id.npc_normal_npc = 1
                instance_create(o.campaign_hub_orig_x-16,o.campaign_hub_orig_y-64,obj_bg_changer_3);
            }

        if o.use_cuts_select != "TempleHub00.map"
            {
                //Add NPC job (Elric - Temple Job 05)
                var instance_ID = instance_create(x+2392,y+2824,obj_story_job_npc_sheet);
                instance_ID.npc_name = "Elric"
                instance_ID.npc_dialog_string_p1 = "I just fixed up this old course!"
                instance_ID.npc_dialog_string_p2 = "I need you to see if it holds up, literally!"
                instance_ID.girls_dialog_string_p1 = "I just fixed up this old course!"
                instance_ID.girls_dialog_string_p2 = "I need you to see if it holds up, literally!"
                instance_ID.npc_dialog_string = instance_ID.girls_dialog_string_p1
                instance_ID.npc_emotion_index = 0
                instance_ID.npc_dialog_emotion_p1 = 0
                instance_ID.npc_dialog_emotion_p2 = 2
                instance_ID.npc_talk_while_idle = 0
                instance_ID.npc_direction = -1
                instance_ID.sprite_index = spr_npc_elric_idle
                instance_ID.sheet_name = spr_npc_elric_sheet
                instance_ID.sheet_frame_width  = 32
                instance_ID.sheet_frame_height = 39
                instance_ID.sheet_frame_offset = 1 //1 pixel by default
                instance_ID.sheet_row_offset   = 1 //1 pixel by default
                instance_ID.sheet_orig_x = -(instance_ID.sheet_frame_width/2)
                instance_ID.sheet_orig_y = -instance_ID.sheet_frame_height
                instance_ID.sheet_direction_offset_left  = (instance_ID.sheet_frame_width/2)  //Offset for when characters are facing towrds the left
                instance_ID.sheet_direction_offset_right = -(instance_ID.sheet_frame_width/2) //Offset for when characters are facing towrds the right
                instance_ID.transition_warp_to = "TempleJob05.map"
                instance_ID.npc_talk_voice = snd_text_male
                instance_ID.transition_playlist = scr_temple_job_05
        
                //Add NPC job (Uny - Temple Job 06)
                var instance_ID = instance_create(x+1200,y+2928,obj_story_job_npc);
                instance_ID.npc_name = "Uny"
                instance_ID.npc_dialog_string_p1 = "I was commissioned to design a course, but..."
                instance_ID.npc_dialog_string_p2 = "I've never done that before! Will you help me?"
                instance_ID.npc_dialog_string = instance_ID.npc_dialog_string_p1
                instance_ID.npc_emotion_index = 0
                instance_ID.npc_dialog_emotion_p1 = 0
                instance_ID.npc_dialog_emotion_p2 = 4
                instance_ID.npc_direction = -1
                instance_ID.npc_talk_while_idle = 1
                instance_ID.npc_emotion_idle  = spr_npc_uny_sad
                instance_ID.npc_emotion_sus    = spr_npc_uny_sad_alt
                instance_ID.transition_warp_to = "TempleJob06.map"
                instance_ID.npc_talk_voice = snd_text_child
                instance_ID.transition_playlist = scr_temple_job_06
        
                //Add NPC job (Stella - Temple Job 07)
                if o.skin = spr_lilac
                    {
                        var instance_ID = instance_create(x+5390,y+2208,obj_story_job_npc);
                        instance_ID.npc_name = "Stella"
                        instance_ID.npc_dialog_string_p1 = "Hey, miss goat! I made this challenge..."
                        instance_ID.npc_dialog_string_p2 = "And everybody keeps telling me it's too hard!"
                        instance_ID.npc_dialog_string = instance_ID.npc_dialog_string_p1
                        instance_ID.npc_emotion_index = 1
                        instance_ID.npc_dialog_emotion_p1 = 1
                        instance_ID.npc_dialog_emotion_p2 = 4
                        instance_ID.npc_direction = -1
                        instance_ID.npc_talk_while_idle = 0
                        instance_ID.npc_emotion_happy  = spr_npc_stella_idle
                        instance_ID.npc_emotion_sus    = spr_npc_stella_angry
                        instance_ID.transition_warp_to = "TempleJob07.map"
                        instance_ID.npc_talk_voice = snd_text_child
                        instance_ID.transition_playlist = scr_temple_job_07
                    }
        
                //Add NPC job (Legplant - Temple Job 01)
                var instance_ID = instance_create(x+4108,y+2016,obj_story_job_npc);
                instance_ID.npc_name = "???"
                instance_ID.npc_dialog_string_p1 = "Oy! Oy! Ouya! You there, buster!"
                instance_ID.npc_dialog_string_p2 = "Play my stage or you're a rotten egg... plant!"
                instance_ID.npc_dialog_string = instance_ID.npc_dialog_string_p1
                instance_ID.npc_emotion_index = 0
                instance_ID.npc_dialog_emotion_p1 = 0
                instance_ID.npc_dialog_emotion_p2 = 1
                instance_ID.npc_direction = -1
                instance_ID.npc_talk_while_idle = 0
                instance_ID.npc_emotion_idle  = spr_legplant_idle
                instance_ID.npc_emotion_happy  = spr_legplant_sus
                instance_ID.transition_warp_to = "TempleJob08.map"
                instance_ID.npc_talk_voice = snd_text_child
                instance_ID.transition_playlist = scr_temple_job_08
                //Only spawn in BG Changer Object if the player is respawning within range of us
                if point_distance(x+4108,y+2016,o.campaign_hub_orig_x,o.campaign_hub_orig_y) &lt; 96
                    {
                        if o.use_cuts_select = "TempleHub02.map"
                        or o.use_cuts_select = "TempleHub04.map"
                        or o.use_cuts_select = "TempleHub05.map"
                            instance_create(o.campaign_hub_orig_x-16,o.campaign_hub_orig_y-64,obj_bg_changer_2);
                        if o.use_cuts_select = "TempleHub01.map"
                        or o.use_cuts_select = "TempleHub03.map"
                            instance_create(o.campaign_hub_orig_x-16,o.campaign_hub_orig_y-64,obj_bg_changer_3);
                    }
        
                //Add NPC job (Dark Libbie - Temple Job 01)
                var instance_ID = instance_create(x+3492,y+2464,obj_story_job_npc);
                instance_ID.npc_name = "Dark Libbie"
                instance_ID.npc_dialog_string_p1 = "Would you believe they let me make a course?"
                instance_ID.npc_dialog_string_p2 = "Will you play it for me?"
                instance_ID.npc_dialog_string = instance_ID.npc_dialog_string_p1
                instance_ID.npc_emotion_index = 0
                instance_ID.npc_dialog_emotion_p1 = 0
                instance_ID.npc_dialog_emotion_p2 = 1
                instance_ID.npc_direction = -1
                instance_ID.npc_talk_while_idle = 0
                instance_ID.npc_emotion_idle  = spr_npc_libbie_dark_idle
                instance_ID.npc_emotion_happy  = spr_npc_libbie_dark_happy
                instance_ID.transition_warp_to = "TempleJob01.map"
                instance_ID.npc_talk_voice = snd_text_child
                instance_ID.transition_playlist = scr_temple_job_01
                //Only spawn in BG Changer Object if the player is respawning within range of us
                if point_distance(x+3492,y+2464,o.campaign_hub_orig_x,o.campaign_hub_orig_y) &lt; 96
                    {
                        if o.use_cuts_select = "TempleHub02.map"
                        or o.use_cuts_select = "TempleHub04.map"
                        or o.use_cuts_select = "TempleHub05.map"
                            instance_create(o.campaign_hub_orig_x-16,o.campaign_hub_orig_y-64,obj_bg_changer_2);
                        if o.use_cuts_select = "TempleHub01.map"
                        or o.use_cuts_select = "TempleHub03.map"
                            instance_create(o.campaign_hub_orig_x-16,o.campaign_hub_orig_y-64,obj_bg_changer_3);
                    }
        
                //Add NPC job (Garett - Temple Job 02)
                var instance_ID = instance_create(x+2122,y+2216,obj_story_job_npc_sheet);
                instance_ID.npc_name = "Garrett"
                instance_ID.npc_dialog_string_p1 = "Yes, I work here! And I design courses!"
                instance_ID.npc_dialog_string_p2 = "Want to try my latest one?"
                instance_ID.girls_dialog_string_p1 = "Yes, I work here! And I design courses!"
                instance_ID.girls_dialog_string_p2 = "Want to try my latest one?"
                instance_ID.npc_dialog_string = instance_ID.girls_dialog_string_p2
                instance_ID.npc_emotion_index = 1
                instance_ID.npc_dialog_emotion_p1 = 1
                instance_ID.npc_dialog_emotion_p2 = 4
                instance_ID.npc_direction = -1
                instance_ID.npc_talk_while_idle = 0
                instance_ID.sprite_index = spr_npc_garrett_idle
                instance_ID.sheet_name = spr_npc_garrett_sheet
                instance_ID.sheet_frame_width  = 38
                instance_ID.sheet_frame_height = 56
                instance_ID.sheet_frame_offset = 1 //1 pixel by default
                instance_ID.sheet_row_offset   = 1 //1 pixel by default
                instance_ID.sheet_orig_x = -(instance_ID.sheet_frame_width/2)
                instance_ID.sheet_orig_y = -instance_ID.sheet_frame_height
                instance_ID.sheet_direction_offset_left  = (instance_ID.sheet_frame_width/2)  //Offset for when characters are facing towrds the left
                instance_ID.sheet_direction_offset_right = -(instance_ID.sheet_frame_width/2) //Offset for when characters are facing towrds the right

                instance_ID.transition_warp_to = "TempleJob02.map"
                instance_ID.npc_talk_voice = snd_text_male
                instance_ID.transition_playlist = scr_temple_job_02
                //Only spawn in BG Changer Object if the player is respawning within range of us
                if point_distance(x+2122,y+2216,o.campaign_hub_orig_x,o.campaign_hub_orig_y) &lt; 96
                    {
                        if o.use_cuts_select = "TempleHub02.map"
                        or o.use_cuts_select = "TempleHub04.map"
                        or o.use_cuts_select = "TempleHub05.map"
                            instance_create(o.campaign_hub_orig_x-16,o.campaign_hub_orig_y-64,obj_bg_changer_2);
                        if o.use_cuts_select = "TempleHub01.map"
                        or o.use_cuts_select = "TempleHub03.map"
                            instance_create(o.campaign_hub_orig_x-16,o.campaign_hub_orig_y-64,obj_bg_changer_3);
                    }
        
                //Add NPC job (Pat - Temple Job 03)
                var instance_ID = instance_create(x+6548,y+2720,obj_story_job_npc);
                instance_ID.npc_name = "Pat"
                instance_ID.npc_dialog_string_p1 = "I've been working on this course for months!"
                instance_ID.npc_dialog_string_p2 = "Would you mind helping me test run it?"
                instance_ID.npc_dialog_string = instance_ID.npc_dialog_string_p1
                instance_ID.npc_emotion_index = 1
                instance_ID.npc_dialog_emotion_p1 = 1
                instance_ID.npc_dialog_emotion_p2 = 4
                instance_ID.npc_direction = -1
                instance_ID.npc_talk_while_idle = 0
                instance_ID.npc_emotion_idle  = spr_npc_pat_idle
                instance_ID.npc_emotion_happy  = spr_npc_pat_happy
                instance_ID.npc_emotion_sus    = spr_npc_pat_sus
                instance_ID.transition_warp_to = "TempleJob03.map"
                instance_ID.npc_talk_voice = snd_text_male
                instance_ID.transition_playlist = scr_temple_job_03
            }

        if o.use_cuts_select = "TempleHub01.map"
            {
                var dean_id = instance_create(x+3024,y+2824,obj_npc_dean);
                dean_id.npc_dialog_string_p1 = "My reports suggest the Bouncer is in East District."
                dean_id.npc_dialog_string_p2 = "Our train to the left will help you reach it in time."
                dean_id.npc_dialog_string = dean_id.npc_dialog_string_p1
                dean_id.girls_dialog_string_p1 = dean_id.npc_dialog_string_p1
                dean_id.girls_dialog_string_p2 = dean_id.npc_dialog_string_p2
                dean_id.npc_emotion_index = 5
                dean_id.npc_dialog_emotion_p1 = 5
                dean_id.npc_dialog_emotion_p2 = 2
                dean_id.npc_direction = -1
                dean_id.npc_normal_npc = 1
                instance_create(o.campaign_hub_orig_x-16,o.campaign_hub_orig_y-64,obj_bg_changer_3);
            }
        if o.use_cuts_select = "TempleHub02.map"
        or o.use_cuts_select = "TempleHub03.map"
        or o.use_cuts_select = "TempleHub04.map"
        or o.use_cuts_select = "TempleHub05.map"
            {
                var instance_ID = instance_create(x+3024,y+2824,obj_story_job_npc);
                instance_ID.npc_name = "Dr. Dean A"
                instance_ID.npc_dialog_string_p1 = "Ah! Good morning, student!"
                instance_ID.npc_dialog_string_p2 = "I am in need of your services, if you have time?"
                instance_ID.npc_dialog_string = instance_ID.npc_dialog_string_p1
                instance_ID.npc_emotion_index = 0
                instance_ID.npc_dialog_emotion_p1 = 0
                instance_ID.npc_dialog_emotion_p2 = 0
                instance_ID.npc_talk_while_idle = 1
                instance_ID.npc_direction = -1
                instance_ID.npc_speed = 0.34
                instance_ID.npc_emotion_idle  = spr_dean_cs_explain
                instance_ID.transition_warp_to = "TempleJob04.map"
                instance_ID.npc_talk_voice = snd_text_male
                instance_ID.transition_playlist = scr_temple_job_04
                if o.use_cuts_select = "TempleHub01.map"
                or o.use_cuts_select = "TempleHub03.map"
                    {
                        instance_ID.npc_dialog_string_p1 = "Ah! Good evening, student!"
                        instance_ID.npc_dialog_string = instance_ID.npc_dialog_string_p1
                    }
            }
        //Only spawn in BG Changer Object if the player is respawning within range of us
        if point_distance(x+3024,y+2824,o.campaign_hub_orig_x,o.campaign_hub_orig_y) &lt; 96
            {
                if o.use_cuts_select = "TempleHub02.map"
                or o.use_cuts_select = "TempleHub04.map"
                or o.use_cuts_select = "TempleHub05.map"
                    instance_create(o.campaign_hub_orig_x-16,o.campaign_hub_orig_y-64,obj_bg_changer_2);
                if o.use_cuts_select = "TempleHub01.map"
                or o.use_cuts_select = "TempleHub03.map"
                    instance_create(o.campaign_hub_orig_x-16,o.campaign_hub_orig_y-64,obj_bg_changer_3);
            }

        //Add Shovel Knight cameo
        if o.use_cuts_select = "TempleHub02.map"
            instance_create(6790,2176,obj_story_shovel_knight);
    }
//Place Astum here for this specific ending to their character arc
if o.use_cuts_select = "LagoonHub01.map"
    {
        var jamie_id = instance_create(1474,4192,obj_npc_astum_run);
        jamie_id.npc_dialog_string_p1 = "SO THIS IS WHY YOU DON'T FEED# THE SEAGULLS AAAAAAAAAAA"
        jamie_id.npc_dialog_string_p2 = "..."
        jamie_id.npc_dialog_string = jamie_id.npc_dialog_string_p1
        jamie_id.girls_dialog_string_p1 = jamie_id.npc_dialog_string_p1
        jamie_id.girls_dialog_string_p2 = jamie_id.npc_dialog_string_p2
        jamie_id.npc_emotion_index = 0
        jamie_id.npc_dialog_emotion_p1 = 0
        jamie_id.npc_dialog_emotion_p2 = 0
        jamie_id.npc_direction = 1
    }
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Add Campaign Mode "Harassing" Mini-Bosses
if o.use_cuts_select = "WestDistrict01.map"
    {
        draw_set_font(o.text_font_academy);
        var boss_id = instance_create(1428,1032,obj_fireworks_tank_flee);
            boss_id.npc_dialog_string_p1 = string_wordwrap_width("Please! A-Anyone! HEEEEELP!!!",148,"#",true) 
            boss_id.npc_dialog_string_p2 = ""
            boss_id.npc_dialog_string = string_wordwrap_width(boss_id.npc_dialog_string_p1,148,"#",true)
            boss_id.savvy_scream = snd_fem_scream_01
        var boss_id = instance_create(10050,2590,obj_fireworks_tank_flee);
            boss_id.npc_dialog_string_p1 = string_wordwrap_width("PLEASE MAKE IT STOP!!!",148,"#",true)
            boss_id.npc_dialog_string_p2 = ""
            boss_id.npc_dialog_string = boss_id.npc_dialog_string_p1
            boss_id.savvy_scream = snd_fem_scream_02
    }
if o.use_cuts_select = "WestDistrict02.map"
    {
        draw_set_font(o.text_font_academy);
        var boss_id = instance_create(5486,3160,obj_fireworks_tank_flee);
            boss_id.npc_dialog_string_p1 =  string_wordwrap_width("Oh! A COUPON!!!",148,"#",true)
            boss_id.npc_dialog_string_p2 = ""
            boss_id.npc_dialog_string =  string_wordwrap_width(boss_id.npc_dialog_string_p1,148,"#",true)
            boss_id.savvy_scream = snd_fem_scream_03
    }
if o.use_cuts_select = "WestDistrict03.map"
    {
        draw_set_font(o.text_font_academy);
        var boss_id = instance_create(7518,2452,obj_fireworks_tank_flee);
            boss_id.npc_dialog_string_p1 =  string_wordwrap_width("YOU GOT IT CORNERED NOW!!! AAAAAAAA!!!",148,"#",true)
            boss_id.npc_dialog_string_p2 = ""
            boss_id.npc_dialog_string =  string_wordwrap_width(boss_id.npc_dialog_string_p1,148,"#",true)
            boss_id.savvy_scream = snd_fem_scream_01
        door_id = instance_create(7889,2460,obj_bouncer_door)
        door_id.visible = false
    }
if o.use_cuts_select = "EastDistrict03.map"
    {
        instance_create(114,1968,obj_bouncer_door)
        instance_create(5120,900,obj_bouncer_door)
    }
if o.use_cuts_select = "TaishanMountain04.map"
    {
        instance_create(228,1188,obj_guardian_story)
        instance_create(32,1200,obj_story_carrie_scared)
        instance_create(308,1200,obj_story_leone_run)
        instance_create(416,1200,obj_story_forklift)
    }
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Add Hot-Patched Nodes to Campaign Stages
//if o.use_cuts_select = "EastDistrict01.map"
//    {
//        instance_create(1728,128,obj_stop_ambience)
//    }
//Patch a hole in the floor in the Train Stations
if o.use_cuts_select = "TrainStation00.map"
or o.use_cuts_select = "TrainStation01.map"
or o.use_cuts_select = "TrainStation02.map"
or o.use_cuts_select = "TrainStation03.map"
    {
        tile_add(mu_flat_15,0,0,16,32,9048,2224,surface_flats)
    }

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Classic Mode Overrides
if o.classic_mode = 1
    {
        if o.use_cuts_select = "WestDistrict01.map"
            {
                scr_west_district_maps_list_classic()
            }
        if o.use_cuts_select = "EastDistrict01.map"
            {
                scr_east_district_maps_list_classic()
            }
        if o.use_cuts_select = "Temple01.map"
            {
                scr_temple_maps_list_classic()
            }
        if o.use_cuts_select = "TaishanMountain01.map"
            {
                scr_taishan_maps_list_classic()
            }
        if o.use_cuts_select = "LiyuLagoon01.map"
            {
                scr_liyu_lagoon_maps_list_classic()
            }
        if o.use_cuts_select = "BeihaiBay01.map"
            {
                scr_beihai_bay_maps_list_classic()
            }
        if o.use_cuts_select = "SapphireJungle01.map"
            {
                scr_beihai_bay_maps_list_classic()
            }
        if o.use_cuts_select = "RagingRapids01.map"
            {
                scr_beihai_bay_maps_list_classic()
            }
        if o.use_cuts_select = "FinalGalleon01.map"
            {
                scr_beihai_bay_maps_list_classic()
            }
    }
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Delay Certain Story Mode Triggers</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>301</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_alarm</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>1</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Hub Overrides And Saving Data
if o.use_cuts_select = "AcademyHub00.map"
or o.use_cuts_select = "AcademyHub01.map"
or o.use_cuts_select = "AcademyHub02.map"
or o.use_cuts_select = "TempleHub00.map"
or o.use_cuts_select = "TempleHub01.map"
or o.use_cuts_select = "TempleHub02.map"
or o.use_cuts_select = "TempleHub03.map"
or o.use_cuts_select = "TempleHub04.map"
or o.use_cuts_select = "TempleHub05.map"
or o.use_cuts_select = "TempleHub5A.map"
or o.use_cuts_select = "TempleHub06.map"
    {
        scr_stop_music()
        o.use_win_conditions = 2
        o.targets_ready = 0
        o.music_index = audio_play_sound(ost_shang_mu_palace_synx,50,true);
        o.backup_index = ost_shang_mu_palace_synx
    }
if o.use_cuts_select = "TaishanHub01.map"
or o.use_cuts_select = "TaishanHub00.map"
or o.use_cuts_select = "TaishanHub02.map"
or o.use_cuts_select = "TaishanHub03.map"
    {
        scr_stop_music()
        o.use_win_conditions = 2
        o.targets_ready = 0
        o.music_index = audio_play_sound(ost_taishan_mountain_synx,50,true);
        o.backup_index = ost_taishan_mountain_synx
    }
if o.use_cuts_select = "WestDistrictHub02.map"
or o.use_cuts_select = "EastDistrictHub01.map"
    {
        scr_stop_music()
        o.use_win_conditions = 2
        o.targets_ready = 0
        o.music_index = audio_play_sound(ost_zaoland_edit_stringtunes,50,true);
        o.backup_index = ost_zaoland_edit_stringtunes
    }
var yes = 1;
    yes = scr_get_restart_map_exceptions_list();
if yes = 0
    {
        //Prevent multi-map systems from triggering in hub maps
        o.campaign_stage_section_limit = 0
        o.use_win_conditions = 2
        o.targets_ready = 0
        o.hud_gem_value = 0
        //Spawn Points for the Hubs (When Returning From Maps)
        var train_stations_exceptions = scr_get_train_station_list();
        if train_stations_exceptions = 0
            {
                if instance_exists(obj_train_car_campaign)
                    {
                        o.px = obj_train_car_campaign.x
                        o.py = obj_train_car_campaign.y
                    }
                if  o.campaign_hub_orig_x != 0
                and o.campaign_hub_orig_y != 0
                    {
                        o.px = o.campaign_hub_orig_x
                        o.py = o.campaign_hub_orig_y
                        //Clear Spawn Points
                        o.campaign_hub_orig_x = 0
                        o.campaign_hub_orig_y = 0
                    }
                //Save data only after defeating our first boss
                if o.player_bosses[o.player_current] &gt; 0
                    {
                        //Update Hub Map File
                        o.player_hub[o.player_current] = o.use_cuts_select
                        //Save Data
                        scr_set_save_data()
                    }
            }
        //If we are in a train station, return to where we were last saved
        if train_stations_exceptions = 1
            {
                //Spawn Points for the Train Station
                if  o.campaign_station_orig_x != 0
                and o.campaign_station_orig_y != 0
                    {
                        o.px = o.campaign_station_orig_x
                        o.py = o.campaign_station_orig_y
                        //Clear Spawn Points
                        o.campaign_station_orig_x = 0
                        o.campaign_station_orig_y = 0
                    }
                //Change Player Costumes Just For This Stage
                if o.skin = spr_lilac
                    {
                        if o.alt_skin = 1
                            {
                                o.alt_skin = 0
                                o.lives_spr = 6
                                scr_set_lilac()
                            }
                    }
                if o.skin = spr_milla
                    {
                        if o.alt_skin = 1
                            {
                                o.alt_skin = 0
                                scr_set_milla()
                            }
                    }
            }
    }
//If we are not playing a transition effect, destroy ourselves
if transition_active = 0
    instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if transition_active = 1
    {
        transition_position += 31
        if transition_position &gt; 527
            instance_destroy();
        draw_sprite_ext(spr_transition_skewed,0,transition_position,0,-1,1,0,c_white,1);
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
